где `N` # uAPI модуля «Интернет-магазин»

- [Заказы магазина](#module-shop-orders)
- [Категории магазина](#module-shop-cats)
- [Корзина магазина](#module-shop-basket)
- [Товары магазина](#module-shop-goods)

<a name="module-shop-orders"></a>
### Заказы магазина

#### [GET] Данные для оформления

Получить данные для начала оформления заказа.

> Обязательные параметры: отсутствуют

Пример запроса:

    $response = $request->get('/shop/checkout/', array(
        // без параметров
    ));

Дополнительные параметры запроса:

- `promo_code=PROMO` – [Строка] – промокод
- `custom_delivery_tax=TAX` – [Строка] – такса за доставку заказа. Учитывается, если для способа доставки по умолчанию отмечен параметр «Использовать модуль расчёта стоимости доставки» и для которого указано значение «Внешний калькулятор»

Пример ответа:

    {
       "success":{
          "delivery_list":{
             "1":{
                "courier":0,
                "dscr":"Товар вы можете получить по прибытию в наш офис",
                "name":"Самовывоз",
                "module":""
             },
             "3":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 3",
                "module":""
             },
             "2":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 2",
                "module":""
             }
          },
          "order_content":{
             "order_goods":{
                "6":{
                   "other3":"",
                   "vat":"0.00$",
                   "options":"Размер: L",
                   "other1":"",
                   "brand":"",
                   "img":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/10s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/10.jpg"
                   },
                   "cat":{
                      "cat_name":"Одежда",
                      "cat_id":"4"
                   },
                   "weight":"",
                   "sum":{
                      "sum":"51.00$",
                      "sum_raw":51
                   },
                   "art":"",
                   "name":"Футболка New Torso",
                   "other2":"",
                   "warr":"",
                   "cnt":"1",
                   "added_user":"Tom",
                   "goods_id":"10",
                   "unit":"",
                   "warning":"",
                   "price":{
                      "price":"51.00$",
                      "price_raw":51
                   }
                }
             },
             "order_goods_fields":{
                "other3":{
                   "name":"Дополнительное поле 3",
                   "pos":13
                },
                "vat":{
                   "name":"НДС",
                   "pos":10
                },
                "options":{
                   "name":"Опции товара",
                   "pos":5
                },
                "other1":{
                   "name":"Дополнительное поле 1",
                   "pos":11
                },
                "brand":{
                   "name":"Производитель",
                   "pos":3
                },
                "img":{
                   "name":"Фото",
                   "pos":0
                },
                "cat":{
                   "name":"Категория",
                   "pos":1
                },
                "weight":{
                   "name":"Вес",
                   "pos":7
                },
                "sum":{
                   "name":"Удалить",
                   "pos":16
                },
                "art":{
                   "name":"Артикул",
                   "pos":2
                },
                "name":{
                   "name":"Наименование",
                   "pos":4
                },
                "other2":{
                   "name":"Дополнительное поле 2",
                   "pos":12
                },
                "warr":{
                   "name":"Гарантия",
                   "pos":6
                },
                "cnt":{
                   "name":"Кол-во",
                   "pos":15
                },
                "added_user":{
                   "name":"Владелец",
                   "pos":9
                },
                "unit":{
                   "name":"Единица",
                   "pos":8
                },
                "price":{
                   "name":"Цена",
                   "pos":14
                }
             }
          },
          "order_fields":{
             "1":{
                "required":1,
                "sel_val":"",
                "name":"Контактный телефон",
                "pos":1,
                "type":"phone"
             },
             "2":{
                "required":1,
                "sel_val":"",
                "name":"Адрес доставки",
                "pos":2,
                "type":"textarea"
             }
          },
          "payment_list":{
             "1":{
                "status":"active",
                "dscr":"Рассчитаться можно с курьером наличными при получении товара",
                "name":"Наличными при получении",
                "pos":1,
                "delivery_assoc":"",
                "module":""
             },
             "3":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 3",
                "pos":3,
                "delivery_assoc":"",
                "module":""
             },
             "2":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 2",
                "pos":2,
                "delivery_assoc":"",
                "module":""
             }
          },
          "order_data":{
             "order_tax":{
                "tax_raw":0,
                "tax":0
             },
             "order_notice":{
                "notice":"",
                "notice_err":""
             },
             "order_uid":"1",
             "order_weight":{
                "weight":"0.00",
                "weight_raw":0
             },
             "order_discount":{
                "discount_raw":0,
                "discount":0
             },
             "order_info":"",
             "order_amount":{
                "amount_raw":51,
                "amount":"51.00$"
             },
             "order_vat":{
                "vat_raw":0,
                "vat_type":"0",
                "vat":0
             },
             "order_total":{
                "total_raw":51,
                "total":"51.00$"
             },
             "order_topay":{
                "topay":"51.00$",
                "topay_curr":"51.00$",
                "topay_raw":51
             }
          },
          "current_payment_id":1,
          "current_delivery_id":1,
          "num_entries":1
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { ORDER_DATA } }

Расшифровка ответа:

- `ORDER_DATA` - секция с данными заказа. Если корзина пуста, то секция будет содержать поле `msg` с текстом «Ваша корзина пуста», иначе секция будет содержать следующие поля:
    - `num_entries` – суммарное количество товарных позиций в заказе
    - `order_content` – секция с информацией по товарам заказа
    - `order_fields` – секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей
    - `order_data` – секция с данными заказа
    - `payment_list` – секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты
    - `current_payment_id` – ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов оплаты)
    - `delivery_list` – cекция со списком доступных способов доставки. ID подсекции - ID способа доставки
    - `current_delivery_id` – ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов доставки)

- `ORDER_CONTENT` - секция с информацией по товарам заказа. Секция содержит следующие поля:
    - `order_goods` – секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине
    - `order_goods_fields` – секция со списком полей товара, где ключ записи - название поля. Каждая подсекция содержит поля:
        - `name` - подпись поля,
        - `pos` - позиция поля в списке полей.

- `ORDER_GOODS_LIST` - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине. Набор полей секции зависит от настройки «Отображение полей товара в заказе» на странице «Управление полями заказа» магазина. Секция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_FILEDS` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настроки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `name` – название поля
    - `type` – тип поля (`text`, `textarea`, `checkbox`, `file`, `email`, `phone`, `promo`, `select`, `radio`, `gmaps`)
    - `required` – значение опции «Обязательное поле»
    - `pos` – позиция поля в списке полей
    - `sel_val` – значение поля, указанное пользователем либо заполненное на основании данных пользователя (если поле ассоциировано с полем из карточки пользователя). Поле отсутствует для типа `gmaps`
    - `autoreg` – значение опции «Авторегистрация» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `autoreg_reject` – значение опции «Позволять покупателям отказываться от авторегистрации» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `values` – список значений поля. Поле присутствует только для типов `select` и `radio`
    - `addr` – адрес, указанный пользователем. Поле присутствует только для типа `gmaps`
    - `lat` – lat координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`
    - `lng` – long координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`

- `ORDER_DATA` - секция с данными заказа. Секция содержит следующие поля:
    - `order_info` – дополнительная информация по заказу
    - `order_notice` – сообщения с предупреждениями и предложениями по заказу. Предложения содержатся в поле `notice`. Предупреждения содержатся в поле `notice_err`
    - `order_uid` – ID пользователя, который оформляет заказ
    - `order_weight` – суммарный вес заказа
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_tax` – такса за доставку заказа, если она задана в текущем способе доставки
    - `order_total` – итого по заказу с учётом таксы за доставку товара
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_discount` – сумма дисконтной скидки на заказ, если активирована дисконтная система
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки

- `PAYMENT_LIST` - секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты. Каждая подсекция содержит следующие
    - `name` – название способа оплаты
    - `dscr` – описание способа оплаты
    - `module` – модуль электронных платежей, привязанный к способу оплаты
    - `status` – статус способа оплаты (доступен/недоступен)
    - `pos` – позиция способа оплаты в списке способов оплаты
    - `delivery_assoc` – секция со списком связей способа оплаты со способами доставки.

- `DELIVERY_LIST` - секция со списком доступных способов доставки. ID подсекции - ID способа доставки. Каждая подсекция содержит следующие поля:
    - `name` – название способа доставки
    - `dscr` – описание способа доставки
    - `module` – модуль расчёта стоимости доставки
    - `courier` – значение опции «Использовать своих курьеров»

#### [PUT] Пересчет неоформленного заказа

С помощью запроса можно сделать перерасчет товара, так как в нем могли изменить параметры.

> Обязательные параметры: `mode=recalc`

Пример запроса:

    $response = $request->put('/shop/checkout/', array(
        'mode'=>'recalc'
    ));

Дополнительные параметры запроса:

- `cnt_REC_ID=GOODS_CNT` – [Число] – количество единиц товара. REC_ID - ID записи товарной позиции в заказе
- `del_REC_ID=1` – [Число] – признак удаления единицы товара из заказа. REC_ID - ID записи товарной позиции в заказе

Пример ответа:

    {
       "success":{
          "delivery_list":{
             "1":{
                "courier":0,
                "dscr":"Товар вы можете получить по прибытию в наш офис",
                "name":"Самовывоз",
                "module":""
             },
             "3":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 3",
                "module":""
             },
             "2":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 2",
                "module":""
             }
          },
          "order_content":{
             "order_goods":{
                "6":{
                   "other3":"",
                   "vat":"0.00$",
                   "options":"Размер: L",
                   "other1":"",
                   "brand":"",
                   "img":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/10s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/10.jpg"
                   },
                   "cat":{
                      "cat_name":"Одежда",
                      "cat_id":"4"
                   },
                   "weight":"",
                   "sum":{
                      "sum":"51.00$",
                      "sum_raw":51
                   },
                   "art":"",
                   "name":"Футболка New Torso",
                   "other2":"",
                   "warr":"",
                   "cnt":"1",
                   "added_user":"Tom",
                   "goods_id":"10",
                   "unit":"",
                   "warning":"",
                   "price":{
                      "price":"51.00$",
                      "price_raw":51
                   }
                }
             },
             "order_goods_fields":{
                "other3":{
                   "name":"Дополнительное поле 3",
                   "pos":13
                },
                "vat":{
                   "name":"НДС",
                   "pos":10
                },
                "options":{
                   "name":"Опции товара",
                   "pos":5
                },
                "other1":{
                   "name":"Дополнительное поле 1",
                   "pos":11
                },
                "brand":{
                   "name":"Производитель",
                   "pos":3
                },
                "img":{
                   "name":"Фото",
                   "pos":0
                },
                "cat":{
                   "name":"Категория",
                   "pos":1
                },
                "weight":{
                   "name":"Вес",
                   "pos":7
                },
                "sum":{
                   "name":"Удалить",
                   "pos":16
                },
                "art":{
                   "name":"Артикул",
                   "pos":2
                },
                "name":{
                   "name":"Наименование",
                   "pos":4
                },
                "other2":{
                   "name":"Дополнительное поле 2",
                   "pos":12
                },
                "warr":{
                   "name":"Гарантия",
                   "pos":6
                },
                "cnt":{
                   "name":"Кол-во",
                   "pos":15
                },
                "added_user":{
                   "name":"Владелец",
                   "pos":9
                },
                "unit":{
                   "name":"Единица",
                   "pos":8
                },
                "price":{
                   "name":"Цена",
                   "pos":14
                }
             }
          },
          "order_fields":{
             "1":{
                "required":1,
                "sel_val":"",
                "name":"Контактный телефон",
                "pos":1,
                "type":"phone"
             },
             "2":{
                "required":1,
                "sel_val":"",
                "name":"Адрес доставки",
                "pos":2,
                "type":"textarea"
             }
          },
          "payment_list":{
             "1":{
                "status":"active",
                "dscr":"Рассчитаться можно с курьером наличными при получении товара",
                "name":"Наличными при получении",
                "pos":1,
                "delivery_assoc":"",
                "module":""
             },
             "3":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 3",
                "pos":3,
                "delivery_assoc":"",
                "module":""
             },
             "2":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 2",
                "pos":2,
                "delivery_assoc":"",
                "module":""
             }
          },
          "order_data":{
             "order_tax":{
                "tax_raw":0,
                "tax":0
             },
             "order_notice":{
                "notice":"",
                "notice_err":""
             },
             "order_uid":"1",
             "order_weight":{
                "weight":"0.00",
                "weight_raw":0
             },
             "order_discount":{
                "discount_raw":0,
                "discount":0
             },
             "order_info":"",
             "order_amount":{
                "amount_raw":51,
                "amount":"51.00$"
             },
             "order_vat":{
                "vat_raw":0,
                "vat_type":"0",
                "vat":0
             },
             "order_total":{
                "total_raw":51,
                "total":"51.00$"
             },
             "order_topay":{
                "topay":"51.00$",
                "topay_curr":"51.00$",
                "topay_raw":51
             }
          },
          "current_payment_id":1,
          "current_delivery_id":1,
          "num_entries":1
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { ORDER_DATA } }

Расшифровка ответа:

- `ORDER_DATA` - секция с данными заказа. Если корзина пуста, то секция будет содержать поле `msg` с текстом «Ваша корзина пуста», иначе секция будет содержать следующие поля:
    - `num_entries` – суммарное количество товарных позиций в заказе
    - `order_content` – секция с информацией по товарам заказа
    - `order_fields` –  `ORDER_FILEDS` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей
    - `order_data` –  секция с данными заказа
    - `payment_list` – секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты
    - `current_payment_id` –  ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов оплаты)
    - `delivery_list` – секция со списком доступных способов доставки. ID подсекции - ID способа доставки
    - `current_delivery_id` –  ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов доставки)

- `ORDER_CONTENT` - секция с информацией по товарам заказа. Секция содержит следующие поля:
    - `order_goods` –  секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине
    - `order_goods_fields` –  секция со списком полей товара, где ключ записи - название поля. Каждая подсекция содержит поля:
        - `name` - подпись поля,
        - `pos` - позиция поля в списке полей.

- `ORDER_GOODS_LIST` - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине. Набор полей секции зависит от настройки «Отображение полей товара в заказе» на странице «Управление полями заказа» магазина. Секция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_FILEDS` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настроки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `name` – название поля
    - `type` – тип поля (`text`, `textarea`, `checkbox`, `file`, `email`, `phone`, `promo`, `select`, `radio`, `gmaps`)
    - `required` – значение опции «Обязательное поле»
    - `pos` – позиция поля в списке полей
    - `sel_val` – значение поля, указанное пользователем либо заполненное на основании данных пользователя (если поле ассоциировано с полем из карточки пользователя). Поле отсутствует для типа `gmaps`
    - `autoreg` – значение опции «Авторегистрация» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `autoreg_reject` – значение опции «Позволять покупателям отказываться от авторегистрации» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `values` – список значений поля. Поле присутствует только для типов `select` и `radio`
    - `addr` – адрес, указанный пользователем. Поле присутствует только для типа `gmaps`
    - `lat` – lat координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`
    - `lng` – long координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`

- `ORDER_DATA` - секция с данными заказа. Секция содержит следующие поля:
    - `order_info` – дополнительная информация по заказу
    - `order_notice` – сообщения с предупреждениями и предложениями по заказу. Предложения содержатся в поле `notice`. Предупреждения содержатся в поле `notice_err`
    - `order_uid` – ID пользователя, который оформляет заказ
    - `order_weight` – суммарный вес заказа
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_tax` – такса за доставку заказа, если она задана в текущем способе доставки
    - `order_total` – итого по заказу с учётом таксы за доставку товара
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_discount` – сумма дисконтной скидки на заказ, если активирована дисконтная система
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки

- `PAYMENT_LIST` - секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты. Каждая подсекция содержит следующие
    - `name` – название способа оплаты
    - `dscr` – описание способа оплаты
    - `module` – модуль электронных платежей, привязанный к способу оплаты
    - `status` – статус способа оплаты (доступен/недоступен)
    - `pos` – позиция способа оплаты в списке способов оплаты
    - `delivery_assoc` – секция со списком связей способа оплаты со способами доставки.

- `DELIVERY_LIST` - секция со списком доступных способов доставки. ID подсекции - ID способа доставки. Каждая подсекция содержит следующие поля:
    - `name` – название способа доставки
    - `dscr` – описание способа доставки
    - `module` – модуль расчёта стоимости доставки
    - `courier` – значение опции «Использовать своих курьеров»

#### [PUT] Изменение неоформленного заказа

Изменение параметров неоформленного заказа.

> Обязательные параметры: `mode=change`

Пример запроса:

    $response = $request->put('/shop/checkout/', array(
        'mode'=>'change'
    ));

Дополнительные параметры запроса:

- `payment_id=PAYMANT_ID` – [Число] – ID способа оплаты из списка доступных способов оплаты
- `delivery_id=DELIVERY_ID` – [Число] – ID способа доставки из списка доступных способов доставки
- `fldN=FIELD_N` – [Строка] – значение дополнительного поля заказа, где `N` - порядковый номер дополнительного поля в списке полей заказа
- `gmap_a=ADDRESS` – [Строка] – адрес для поля типа `gmaps`
- `gmap_s=ADDRESS` – [Строка] – значение lat координаты для поля типа `gmaps`
- `gmap_d=ADDRESS` – [Строка] – значение long координаты для поля типа `gmaps`
- `custom_delivery_tax=TAX` – [Строка] – такса за доставку заказа. Учитывается, если для указанного в `delivery_id` способа оплаты отмечен параметр «Использовать модуль расчёта стоимости доставки» и для которого указано значение «Внешний калькулятор»

Пример ответа:

    {
       "success":{
          "delivery_list":{
             "1":{
                "courier":0,
                "dscr":"Товар вы можете получить по прибытию в наш офис",
                "name":"Самовывоз",
                "module":""
             },
             "3":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 3",
                "module":""
             },
             "2":{
                "courier":0,
                "dscr":"Описание способа доставки",
                "name":"Способ доставки № 2",
                "module":""
             }
          },
          "order_content":{
             "order_goods":{
                "6":{
                   "other3":"",
                   "vat":"0.00$",
                   "options":"Размер: L",
                   "other1":"",
                   "brand":"",
                   "img":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/10s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/10.jpg"
                   },
                   "cat":{
                      "cat_name":"Одежда",
                      "cat_id":"4"
                   },
                   "weight":"",
                   "sum":{
                      "sum":"51.00$",
                      "sum_raw":51
                   },
                   "art":"",
                   "name":"Футболка New Torso",
                   "other2":"",
                   "warr":"",
                   "cnt":"1",
                   "added_user":"Tom",
                   "goods_id":"10",
                   "unit":"",
                   "warning":"",
                   "price":{
                      "price":"51.00$",
                      "price_raw":51
                   }
                }
             },
             "order_goods_fields":{
                "other3":{
                   "name":"Дополнительное поле 3",
                   "pos":13
                },
                "vat":{
                   "name":"НДС",
                   "pos":10
                },
                "options":{
                   "name":"Опции товара",
                   "pos":5
                },
                "other1":{
                   "name":"Дополнительное поле 1",
                   "pos":11
                },
                "brand":{
                   "name":"Производитель",
                   "pos":3
                },
                "img":{
                   "name":"Фото",
                   "pos":0
                },
                "cat":{
                   "name":"Категория",
                   "pos":1
                },
                "weight":{
                   "name":"Вес",
                   "pos":7
                },
                "sum":{
                   "name":"Удалить",
                   "pos":16
                },
                "art":{
                   "name":"Артикул",
                   "pos":2
                },
                "name":{
                   "name":"Наименование",
                   "pos":4
                },
                "other2":{
                   "name":"Дополнительное поле 2",
                   "pos":12
                },
                "warr":{
                   "name":"Гарантия",
                   "pos":6
                },
                "cnt":{
                   "name":"Кол-во",
                   "pos":15
                },
                "added_user":{
                   "name":"Владелец",
                   "pos":9
                },
                "unit":{
                   "name":"Единица",
                   "pos":8
                },
                "price":{
                   "name":"Цена",
                   "pos":14
                }
             }
          },
          "order_fields":{
             "1":{
                "required":1,
                "sel_val":"",
                "name":"Контактный телефон",
                "pos":1,
                "type":"phone"
             },
             "2":{
                "required":1,
                "sel_val":"",
                "name":"Адрес доставки",
                "pos":2,
                "type":"textarea"
             }
          },
          "payment_list":{
             "1":{
                "status":"active",
                "dscr":"Рассчитаться можно с курьером наличными при получении товара",
                "name":"Наличными при получении",
                "pos":1,
                "delivery_assoc":"",
                "module":""
             },
             "3":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 3",
                "pos":3,
                "delivery_assoc":"",
                "module":""
             },
             "2":{
                "status":"active",
                "dscr":"Описание способа оплаты",
                "name":"Способ оплаты № 2",
                "pos":2,
                "delivery_assoc":"",
                "module":""
             }
          },
          "order_data":{
             "order_tax":{
                "tax_raw":0,
                "tax":0
             },
             "order_notice":{
                "notice":"",
                "notice_err":""
             },
             "order_uid":"1",
             "order_weight":{
                "weight":"0.00",
                "weight_raw":0
             },
             "order_discount":{
                "discount_raw":0,
                "discount":0
             },
             "order_info":"",
             "order_amount":{
                "amount_raw":51,
                "amount":"51.00$"
             },
             "order_vat":{
                "vat_raw":0,
                "vat_type":"0",
                "vat":0
             },
             "order_total":{
                "total_raw":51,
                "total":"51.00$"
             },
             "order_topay":{
                "topay":"51.00$",
                "topay_curr":"51.00$",
                "topay_raw":51
             }
          },
          "current_payment_id":1,
          "current_delivery_id":1,
          "num_entries":1
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { ORDER_DATA } }

Расшифровка ответа:

- `ORDER_DATA` - секция с данными заказа. Если корзина пуста, то секция будет содержать поле `msg` с текстом «Ваша корзина пуста», иначе секция будет содержать следующие поля:
    - `num_entries` – суммарное количество товарных позиций в заказе
    - `order_content` – секция с информацией по товарам заказа
    - `order_fields` –  ORDER_FILEDS - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей
    - `order_data` –  секция с данными заказа
    - `payment_list` – секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты
    - `current_payment_id` –  ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов оплаты)
    - `delivery_list` – секция со списком доступных способов доставки. ID подсекции - ID способа доставки
    - `current_delivery_id` –  ID выбранного способа оплаты (значение по умолчанию - первой ID в списке способов доставки)

- `ORDER_CONTENT` - секция с информацией по товарам заказа. Секция содержит следующие поля:
    - `order_goods` –  секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине
    - `order_goods_fields` –  секция со списком полей товара, где ключ записи - название поля. Каждая подсекция содержит поля:
        - `name` - подпись поля,
        - `pos` - позиция поля в списке полей.

- `ORDER_GOODS_LIST` - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в корзине. Набор полей секции зависит от настройки «Отображение полей товара в заказе» на странице «Управление полями заказа» магазина. Секция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_FILEDS` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настроки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `name` – название поля
    - `type` – тип поля (`text`, `textarea`, `checkbox`, `file`, `email`, `phone`, `promo`, `select`, `radio`, `gmaps`)
    - `required` – значение опции «Обязательное поле»
    - `pos` – позиция поля в списке полей
    - `sel_val` – значение поля, указанное пользователем либо заполненное на основании данных пользователя (если поле ассоциировано с полем из карточки пользователя). Поле отсутствует для типа `gmaps`
    - `autoreg` – значение опции «Авторегистрация» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `autoreg_reject` – значение опции «Позволять покупателям отказываться от авторегистрации» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `values` – список значений поля. Поле присутствует только для типов `select` и `radio`
    - `addr` – адрес, указанный пользователем. Поле присутствует только для типа `gmaps`
    - `lat` – lat координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`
    - `lng` – long координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`

- `ORDER_DATA` - секция с данными заказа. Секция содержит следующие поля:
    - `order_info` – дополнительная информация по заказу
    - `order_notice` – сообщения с предупреждениями и предложениями по заказу. Предложения содержатся в поле `notice`. Предупреждения содержатся в поле `notice_err`
    - `order_uid` – ID пользователя, который оформляет заказ
    - `order_weight` – суммарный вес заказа
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_tax` – такса за доставку заказа, если она задана в текущем способе доставки
    - `order_total` – итого по заказу с учётом таксы за доставку товара
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_discount` – сумма дисконтной скидки на заказ, если активирована дисконтная система
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки

- `PAYMENT_LIST` - секция со списком доступных способов оплаты. ID подсекции - ID способа оплаты. Каждая подсекция содержит следующие
    - `name` – название способа оплаты
    - `dscr` – описание способа оплаты
    - `module` – модуль электронных платежей, привязанный к способу оплаты
    - `status` – статус способа оплаты (доступен/недоступен)
    - `pos` – позиция способа оплаты в списке способов оплаты
    - `delivery_assoc` – секция со списком связей способа оплаты со способами доставки.

- `DELIVERY_LIST` - секция со списком доступных способов доставки. ID подсекции - ID способа доставки. Каждая подсекция содержит следующие поля:
    - `name` – название способа доставки
    - `dscr` – описание способа доставки
    - `module` – модуль расчёта стоимости доставки
    - `courier` – значение опции «Использовать своих курьеров»

#### [POST] Оформление заказа

С помощью запроса можно осузествить оформление заказа.

> Обязательные параметры: `mode=order`, `payment_id=PAYMENT_ID`, `delivery_id=DELIVERY_ID`, `fldN=FIELD_N`\*, `gmap_a=ADDRESS`\*, `gmap_s=ADDRESS`\*, `gmap_d=ADDRESS`\*.
>
> _\* Поля могут быть и необязательными, если для них в настройках не установлен параметр «Обязательное поле»_.

- `payment_id=PAYMENT_ID` – [Число] – ID способа оплаты из списка доступных способов оплаты
- `delivery_id=DELIVERY_ID` – [Число] – ID способа доставки из списка доступных способов доставки
- `fldN=FIELD_N` – [Строка] – значение дополнительного поля заказа, где `N` - порядковый номер дополнительного поля в списке полей заказа
- `gmap_a=ADDRESS` – [Строка] – адресс для поля типа `gmaps`
- `gmap_s=ADDRESS` – [Строка] – значение lat координаты для поля типа `gmaps`
- `gmap_d=ADDRESS` – [Строка] – значение long координаты для поля типа `gmaps`

Пример запроса:

    $response = $request->post('/shop/checkout/', array(
       'mode' => 'order',
       'payment_id' => 'PAYMENT_ID',
       'delivery_id' => 'DELIVERY_ID',
       'fldN' => 'FIELD_N',
       'gmap_a' => 'ADDRESS',
       'gmap_s' => 'ADDRESS',
       'gmap_d' => 'ADDRESS'
    ));

Дополнительные параметры запроса:

- `custom_delivery_tax=TAX` – [Строка] – такса за доставку заказа. Учитывается, если для указанного в `delivery_id` способа оплаты отмечен параметр «Использовать модуль расчёта стоимости доставки» и для которого указано значение «Внешний калькулятор»
- `shop_autoreg=1` – [Число] – значение параметра «Регистрация». Используется для авторегистрации гостя

Пример ответа:

    {
       "success":{
          "msg":"Ваш заказ успешно оформлен"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Ваш заказ успешно оформлен" } }

#### [GET] Мои заказы

С помощью запроса можно осуществить получение всех своих заказов.

> Обязательные параметры: отсутствуют

Пример запроса:

    $response = $request->get('/shop/invoices/', array(
        // без параметров
    ));

Дополнительные параметры запроса:

- `page=PAGE_ID` – [Число] – номер текущей страницы выборки (значение по умолчанию - 1)
- `per_page=NUM` – [Число] – количество заказов на страницу (максимальное значение и значение по умолчанию - 20)
- `sort=FIELD_NAME` – [Строка] – поле по которуму будет отсортирован список заказов. Возможные значения:
    - `id` - по ID (значение по умолчанию)
    - `user` - по пользователям
    - `cnt` - по количеству
    - `amount` - по сумме заказа
    - `status` - по статусу
    - `add_date` - по дате добавления
    - `mod_time` - по дате модификации
    - `payment_id` - по способу оплаты
    - `delivery_id` - по способу доставки
- `order=SORT_MODE` – [Строка] – режим сортировки. Возможные значения:
    - `asc` - по возврастанию (значение по умолчанию)
    - `desc` - по убыванию
- `user=USER_ID` – [Число] – фильтр - ID пользователя, сформировавшего заказ. Будут отобраны заказы указанного пользователя. **Учитывается, только если пользователь, от имени которого делается запрос, имеет права администратора**
- `hide=HIDE_ID` – [Число] – фильтр - группа заказа. Будут отобраны заказы, которые относятся к указанной группе заказов. **!!! Список всех групп можно получить с помощью отдельного запроса - см. раздел «Получение списка групп заказа».** Возможные значения:
    - `0` - В работе
    - `1` - В архиве
    - `2` - В корзине
- `status=STATUS_ID` – [Число] – фильтр - статус заказа. Будут отобраны заказы, которые имеют указанный статус. **!!! Список всех групп можно получить с помощью отдельного запроса - см. раздел [Получение списка статусов заказа](#module-shop-getshopdata).** Возможные значения:
    - `0` - Новый
    - `1` - Оплачивается
    - `2` - Оплачен
    - `3` - В обработке
    - `4` - Готов
    - `5` - Доставляется
    - `7` - Доставлен
    - `8` - Завершён
    - `9` - Отменён
- `inv_sum=SUM` – [Строка] – фильтр - диапазон сумм заказов в формате `sum1|sum2`. Будут отобраны заказы, сумма которых попадает в указанный диапазон сумм
- `courier=COURIER` – [Строка] – фильтр - курьер. Будут отобраны заказы, котором назначен указанный курьер
- `cdate=DATES` – [Строка] – фильтр - период доставки в формате `date1|date2`. Будут отобраны заказы у которых период доставки попадает в указанный период. **!!! date1 и date2 должны соответствовать формату `YYYY-MM-DD HH:MI:SS`, где YYYY - год, MM - месяц, DD - день, HH - часы, MI - минуты, SS - секунды. Время является необязательной частью.**
- `payment=PAYMENT_ID` – [Число] – фильтр - ID способа облаты. Будут отобраны заказы с указанным способом оплаты
- `delivery=DELIVERY_ID` – [Число] – фильтр - ID способа доставки. Будут отобраны заказы с указанным способом доставки
- `id=IDS` – [Строка] – фильтр - ID заказа(ов), перечисленных через запятую. Будут отобраны заказы с указанными ID
- `date=PAYMENT_ID` – [Строка] – фильтр - диапазон дат добавления в формате `date1|date2`. Будут отобраны заказы, дата добавления которых попадает в указанный период. !!! date1 и date2 должны соответствовать формату `YYYY-MM-DD HH:MI:SS`, где YYYY - год, MM - месяц, DD - день, HH - часы, MI - минуты, SS - секунды. Время является необязательной частью.

Пример ответа:

    {
       "success":{
          "count":"2",
          "page":1,
          "orders":[
             {
                "order_hash":"UqTzDXQDXQMW3yE2cfI5p4lur1zUPEiVskfgy%3Boo",
                "delivery":{
                   "tax":"0.00",
                   "id":"3"
                },
                "weight":"300",
                "user":"Dmitry_DM",
                "id":"1",
                "mod_date":"1458511535",
                "uid":"1",
                "discount":{
                   "sum":"0.00"
                },
                "cnt":"1",
                "hide":"0",
                "rem":"-----< 21.03.2016 01:05 >-----------------------------------Пользователь Dmitry_DM оформил заказ",
                "nom":"00001",
                "status":"0",
                "ip":"178.204.152.179",
                "currency":{
                   "rate":"1",
                   "id":"1"
                },
                "add_date":"1458511535",
                "payment":{
                   "topay":"500.00$",
                   "id":"2"
                },
                "profit":"180.00",
                "amount":"500.00",
                "fields":{
                   "1":"312312312",
                   "2":"312312312"
                },
                "akey":"e4b52bf982e95c031584bdd61b43613f"
             },
             {
                "order_hash":"UqTzDXQDXQMV3yE2cfI5peQa9AhNPEPHG8hDy%3Boo",
                "delivery":{
                   "tax":"0.00",
                   "id":"1"
                },
                "user":"Dmitry_DM",
                "id":"2",
                "mod_date":"1458687828",
                "uid":"1",
                "discount":{
                   "sum":"0.00"
                },
                "cnt":"1",
                "hide":"0",
                "rem":"-----< 23.03.2016 02:03 >-----------------------------------Пользователь Dmitry_DM оформил заказ",
                "nom":"00002",
                "status":"0",
                "ip":"46.61.85.85",
                "currency":{
                   "rate":"1",
                   "id":"1"
                },
                "add_date":"1458687828",
                "payment":{
                   "topay":"51.00$",
                   "id":"1"
                },
                "profit":"51.00",
                "amount":"51.00",
                "fields":{
                   "1":"1111111",
                   "2":"5555222"
                },
                "akey":"3c3d7d3e3664f2aeb3af3a5c41da1e6e"
             }
          ],
          "per_page":"20",
          "order_uids":[
             "1"
          ],
          "profit":"231.00",
          "pages_cnt":1,
          "order_fields":{
             "1":{
                "required":1,
                "expand":0,
                "name":"Контактный телефон",
                "dig":0,
                "pos":1,
                "type":"phone"
             },
             "2":{
                "required":1,
                "expand":0,
                "name":"Адрес доставки",
                "dig":0,
                "pos":2,
                "type":"textarea"
             }
          },
          "total":551,
          "order_hide":{
             "1":"В архиве",
             "0":"В работе",
             "2":"В корзине"
          },
          "order_status":{
             "8":"Завершён",
             "4":"Готов",
             "1":"Оплачивается",
             "3":"В обработке",
             "0":"Новый",
             "7":"Доставлен",
             "9":"Отменён",
             "2":"Оплачен",
             "5":"Доставляется"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `orders` – секция с данными о заказах. Данная секция содержит список подсекций с данными по каждому заказу. ID подсекции - порядковый номер подсекции в списке подсекций
    - `order_status` – cписок всех возможных статусов заказа
    - `order_fields` – секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей
    - `order_hide` – список всех возможных групп заказа
    - `order_uids` – список ID пользователей, заказы которых попали в выборку
    - `count` – суммарное количество заказов, попавших в выборку
    - `page` – текущая страница выборки
    - `pages_cnt` – количество страниц выборки
    - `per_page` – количество заказов на одной странице выборки
    - `total` – оборотная сумма по заказам попавшим в выборку
    - `profit` – суммарная прибыль по заказам попавшим в выборку

- `ORDERS` - секция с данными о заказах. Данная секция содержит список подсенкций с данными по каждому закаазу. ID подсекции - порядковый номер подсекции в списке подсекций. Каждая подсекция содержит следующие поля:
    - `id` – ID заказа (номер заказа)
    - `nom` – отформатированный ID заказа (номер заказа)
    - `order_hash` – хэш id заказа для получения или изменения даны по заказу
    - `uid` – ID пользователя, оформившего заказ
    - `user` – логин пользователя, оформившего заказ
    - `akey` – ключ для формирования auth-ссылки на страницу просмотра заказа
    - `cnt` – количество товаров в заказе
    - `amount` – cумарная стоимость товарных позиций в заказе
    - `profit` – суммарная прибыль по заказу
    - `discount` – информация о скидке по заказу, где `sum` - сумма скидки, `promo_code` - примененный промокод, `promo_group` - тип промо-кода
    - `currency` – валюта, в которой был оформлен заказ, где `id` - ID валюты, в которой был оформлен заказ, `rate` - курс валюты на момент оформления заказа
    - `payment` – информация о способе оплаты заказа, где `id` - ID способа оплаты заказа, `topay` - сумма к оплате выбранным способом с учётом дисконтной скидки
    - `delivery` – информация о способе доставки заказа, где `id` - ID способа доставки заказа, `tax` - такса за доставку заказа, `courier` - курьер, назначенный для доставки заказа, `delivery_date` - дата доставки заказа
    - `weight` – суммарный вес заказа
    - `fields` – секция со значениями дополнительных полей заказа
    - `map` – секция с информацией об адресе google maps, если в списке дополнительных полей есть поле типа `gmaps`, где `address` - указанный адрес, `latitude` - значение `lat` координаты, `longitude` - значение `long` координаты
    - `status` – статус заказа
    - `hide` – группа, к которой относится заказ (0 - «В работе», 1 - «В архиве», 2 - «В корзине»)
    - `add_date` – дата добавления заказа
    - `mod_date` – дата последнего изменения заказа
    - `rem` – лог заказа
    - `note` – примечания к заказу
    - `ip` – ip, с которого был сделан заказ
    - `refhost` – хост реферальной ссылки с которой пришел пользователь
    - `referer` – URL реферальной ссылки с которой пришел пользователь

- `ORDER_FILEDS` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настройки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `name` – название поля
    - `type` – тип поля (`text`, `textarea`, `checkbox`, `file`, `email`, `phone`, `promo`, `select`, `radio`, `gmaps`)
    - `required` – значение опции «Обязательное поле»
    - `pos` – позиция поля в списке полей
    - `sel_val` – значение поля, указанное пользователем либо заполненное на основании данных пользователя (если поле ассоциировано с полем из карточки пользователя). Поле отсутствует для типа `gmaps`
    - `autoreg` – значение опции «Авторегистрация» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `autoreg_reject` – значение опции «Позволять покупателям отказываться от авторегистрации» для гостевых заказов. Присутствует при наличии поля с типом `email` и соответствующих настроек в модуле «Пользователи»
    - `values` – список значений поля. Поле присутствует только для типов `select` и `radio`
    - `addr` – адрес, указанный пользователем. Поле присутствует только для типа `gmaps`
    - `lat` – lat координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`
    - `lng` – long координата адреса, указанного пользователем. Поле присутствует только для типа `gmaps`

#### [GET] Определенный заказ

С помощью запроса можно осуществить получение определенного заказа.

> Обязательные параметры: `order=ORDER_HASH`

Пример запроса:

    $response = $request->get('/shop/order/', array(
        'order'=>'ORDER_HASH'
    ));

Пример ответа:

    {
       "success":{
          "count":"2",
          "page":1,
          "orders":[
             {
                "order_hash":"UqTzDXQDXQMV3yE2cfI5peQa9AhNPEPHG8hDy%3Boo",
                "delivery":{
                   "tax":"0.00",
                   "id":"1"
                },
                "user":"Dmitry_DM",
                "id":"2",
                "mod_date":"1458687828",
                "uid":"1",
                "discount":{
                   "sum":"0.00"
                },
                "cnt":"1",
                "hide":"0",
                "rem":"-----< 23.03.2016 02:03 >-----------------------------------Пользователь Dmitry_DM оформил заказ",
                "nom":"00002",
                "status":"0",
                "ip":"46.61.85.85",
                "currency":{
                   "rate":"1",
                   "id":"1"
                },
                "add_date":"1458687828",
                "payment":{
                   "topay":"51.00$",
                   "id":"1"
                },
                "profit":"51.00",
                "amount":"51.00",
                "fields":{
                   "1":"1111111",
                   "2":"5555222"
                },
                "akey":"3c3d7d3e3664f2aeb3af3a5c41da1e6e"
             },
             {
                "order_hash":"UqTzDXQDXQMW3yE2cfI5p4lur1zUPEiVskfgy%3Boo",
                "delivery":{
                   "tax":"0.00",
                   "id":"3"
                },
                "weight":"300",
                "user":"Dmitry_DM",
                "id":"1",
                "mod_date":"1458511535",
                "uid":"1",
                "discount":{
                   "sum":"0.00"
                },
                "cnt":"1",
                "hide":"0",
                "rem":"-----< 21.03.2016 01:05 >-----------------------------------Пользователь Dmitry_DM оформил заказ",
                "nom":"00001",
                "status":"0",
                "ip":"178.204.152.179",
                "currency":{
                   "rate":"1",
                   "id":"1"
                },
                "add_date":"1458511535",
                "payment":{
                   "topay":"500.00$",
                   "id":"2"
                },
                "profit":"180.00",
                "amount":"500.00",
                "fields":{
                   "1":"312312312",
                   "2":"312312312"
                },
                "akey":"e4b52bf982e95c031584bdd61b43613f"
             }
          ],
          "per_page":"20",
          "order_uids":[
             "1"
          ],
          "profit":"231.00",
          "pages_cnt":1,
          "order_fields":{
             "1":{
                "required":1,
                "expand":0,
                "name":"Контактный телефон",
                "dig":0,
                "pos":1,
                "type":"phone"
             },
             "2":{
                "required":1,
                "expand":0,
                "name":"Адрес доставки",
                "dig":0,
                "pos":2,
                "type":"textarea"
             }
          },
          "total":551,
          "order_hide":{
             "1":"В архиве",
             "0":"В работе",
             "2":"В корзине"
          },
          "order_status":{
             "8":"Завершён",
             "4":"Готов",
             "1":"Оплачивается",
             "3":"В обработке",
             "0":"Новый",
             "7":"Доставлен",
             "9":"Отменён",
             "2":"Оплачен",
             "5":"Доставляется"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `order_id` – ID заказа (номер заказа)
    - `order_nom` – отформатированный ID заказа (номер заказа)
    - `order_goods` – ORDER_GOODS - секция с информацией о товарах заказа
    - `order_digital_goods` – ORDER_DIGITAL_GOODS - секция с информацией о цифровых товарах заказа
    - `order_data` – ORDER_DATA - секция с данными по заказу

- `ORDER_GOODS` - секция с товарами заказа. Секция содержит следующие поля:
    - `goods_fields` – секция с описанием полей товара
    - `goods` – ORDER_GOODS_LIST - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в заказе

- `ORDER_GOODS_LIST` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настройки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_DIGITAL_GOODS` - секция с дополнительными данными по цифровым товарам заказа. Секция содержит следующие поля:
- `cnt` – количество цифровых товаров в заказе
- `g    oods` – ORDER_DIGITAL_GOODS_LIST - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций

- `ORDER_DIGITAL_GOODS_LIST` - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций. Подсекция содержит следующие поля:
    - `id` – ID товара
    - `name` – название товара
    - `brand` – значение поля «Производитель»
    - `art` – значение поля «Артикул»
    - `type` – тип товара (1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `data` – данные по товару (ссылка на файл, электронный код)
    - `size` – размер файла (если тип товара - «1 - товар-файл»)

- `ORDER_DATA` - секция с данными по заказу. Секция содержит следующие поля:
    - `order_hash` – хэш id заказа для получения или изменения даны по заказу
    - `order_cnt` – количество товаров в заказе
    - `order_weight` – суммарный вес заказа
    - `currency` – валюта, в которой был оформлен заказ, где `id` - ID валюты, в которой был оформлен заказ, `rate` - курс валюты на момент оформления заказа
    - `order_discount` – информация о скидке по заказу
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_total` – оборотная сумма заказа
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_profit` – суммарная прибыль по заказ
    - `order_status` – статус заказа, где code - ID статуса, status - название статуса
    - `order_payment` – информация о способе оплаты заказа, где `id` - ID способа оплаты, `name` - название способа оплаты, `descr` - описание способа оплаты
    - `order_delivery` – информация о способе доставки заказа, где `id` - ID способа доставки, `name` - название способа доставки, `descr` - описание способа доставки, `tax` - такса за доставку заказа, `delivery_time` - дата доставки заказа, delivery_courier - курьер назначенный заказу
    - `order_fields` – секция со значениями дополнительных полей заказа. В подсекции `fields_descr` содержится подписи к полям заказа
    - `order_add_date` – дата добавления заказа
    - `order_mod_date` – дата последнего изменения заказа
    - `order_ip` – ip, с которого был сделан заказ
    - `order_user` – логин пользователя, оформившего заказ
    - `order_uid` – ID пользователя, оформившего заказ
    - `order_group_uid` – группа к которой относится пользователь, оформивший заказ
    - `order_auth` – auth-ключ для ссылки на страницу просмотра заказа
    - `order_akey` – ключ для формирования auth-ссылки на страницу просмотра заказа
    - `order_journal` – лог заказа
    - `order_note` – примечания к заказу
    - `order_hide` – группа, к которой относится заказ (0 - «В работе», 1 - «В архиве», 2 - «В корзине»)

- `ORDER_GOODS_OPTIONS` - секция с данными опций товара. Секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_OPTIONS_DATA - секция с выбранными опциями товара
    - `all_options_data` – OPTIONS_DATA - секция со всеми опциями товара

- `SELECTED_OPTIONS_DATA` - секция с выбранными опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер значения опции из списка значений, возвращаемый в параметре `all_options_data->values`
    - `over` – наценка по опции. Если наценка указана в виде процента, то данное поле будет содержать значение в формате `PERSENT&OVER`, например `4%&2.00`.

- `OPTIONS_DATA` - секция со всеми опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` – признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара

#### [POST] Добавить товар в заказ

В уже существующий заказ можно добавить новый товар.

> Обязательные параметры: `order=ORDER_HASH`, `id=GOODS_ID`

- `order=PAYMENT_ID` – [Строка] - хэш заказа, по которому нужно модифицировать данные
- `id=PAYMENT_ID` – [Число] - ID товара, который нужно добавить в заказ

Пример запроса:

    $response = $request->post('/shop/order/', array(
        'order'=>'ORDER_HASH',
        'id'=>'GOODS_ID'
    ));

Пример ответа:

    {
       "success":{
          "order_nom":"00001",
          "order_goods":{
             "goods_fields":{
                "other3":"Дополнительное поле 3",
                "vat":"НДС",
                "other1":"Дополнительное поле 1",
                "brand":"Производитель",
                "img":"Фото",
                "cat":"Категория",
                "weight":"Вес",
                "sum":"Сумма",
                "price_in":"Входящая",
                "art":"Артикул",
                "name":"Наименование",
                "other2":"Дополнительное поле 2",
                "cnt":"Кол-во",
                "warr":"Гарантия",
                "added_user":"Владелец",
                "unit":"Единица",
                "price":"Цена"
             },
             "goods":{
                "5":{
                   "other3":"ЗУ в комплект не входит",
                   "vat":"",
                   "other1":"20x20x20",
                   "brand":"Transcend",
                   "img":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/5s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/5.jpg"
                   },
                   "cat":"Спорт",
                   "weight":{
                      "weight":"300.00",
                      "weight_raw":300
                   },
                   "sum":{
                      "sum_raw":500,
                      "sum":"500.00$"
                   },
                   "price_in":{
                      "price_raw":"320.00",
                      "price":"320.00$"
                   },
                   "art":"32165468-6898",
                   "name":"Новые очки от Recon Transcend",
                   "other2":"Не бьются",
                   "goods_url":{
                      "hgu":"sport-glasses",
                      "shop_url":"http://yoursite.ucoz.ru/shop/5/desc/sport-glasses"
                   },
                   "cnt":"1",
                   "warr":"12мес",
                   "goods_id":"5",
                   "added_user":"Tom",
                   "unit":"Размер",
                   "price":{
                      "price_raw":500,
                      "price":"500.00$"
                   }
                }
             }
          },
          "order_digital_goods":{
             "goods":[

             ],
             "cnt":0
          },
          "order_id":"1",
          "order_data":{
             "order_delivery":{
                "courier":"",
                "delivery_date":"0",
                "name":"Способ доставки № 3",
                "tax":{
                   "tax_raw":0,
                   "tax":0
                },
                "id":"3",
                "descr":"Описание способа доставки"
             },
             "order_profit":{
                "profit_raw":"180.00",
                "profit":"180.00$"
             },
             "order_user":"Dmitry_DM",
             "order_currency":{
                "rate":"1",
                "id":"1"
             },
             "order_hash":"UqTzDXQDXQMW3yE2cfI5p4lur1zUPEiVskfgy%3Boo",
             "order_note":"",
             "order_ip":"178.204.152.179",
             "order_add_date":"1458511535",
             "order_fields":{
                "1":"312312312",
                "fields_descr":{
                   "1":"Контактный телефон",
                   "2":"Адрес доставки"
                },
                "2":"312312312"
             },
             "order_hide":"0",
             "order_mod_date":"1458511535",
             "order_auth":"",
             "order_uid":"1",
             "order_weight":{
                "weight":"300.00",
                "weight_raw":300
             },
             "order_akey":"e4b52bf982e95c031584bdd61b43613f",
             "order_amount":{
                "amount_raw":500,
                "amount":"500.00$"
             },
             "order_vat":{
                "vat_raw":0,
                "vat_type":"0",
                "vat":0
             },
             "order_cnt":"1",
             "order_total":{
                "total_raw":500,
                "total":"500.00$"
             },
             "order_topay":{
                "topay":"500.00$",
                "topay_curr":"500.00$",
                "topay_raw":500
             },
             "order_journal":"-----< 21.03.2016 01:05 >-----------------------------------Пользователь Dmitry_DM оформил заказ",
             "order_payment":{
                "name":"Способ оплаты № 2",
                "id":"2",
                "descr":"Описание способа оплаты"
             },
             "order_group_uid":"4",
             "order_status":{
                "status":"Новый",
                "code":"0"
             },
             "order_discount":{
                "promo_code":"",
                "promo_group":"",
                "discount_raw":0,
                "discount":0
             }
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `order_id` – ID заказа (номер заказа)
    - `order_nom` – отформатированный ID заказа (номер заказа)
    - `order_goods` – ORDER_GOODS - секция с информацией о товарах заказа
    - `order_digital_goods` – ORDER_DIGITAL_GOODS - секция с информацией о цифровых товарах заказа
    - `order_data` – ORDER_DATA - секция с данными по заказу

- `ORDER_GOODS` - секция с товарами заказа. Секция содержит следующие поля:
    - `goods_fields` – секция с описанием полей товара
    - `goods` – ORDER_GOODS_LIST - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в заказе

- `ORDER_GOODS_LIST` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настройки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_DIGITAL_GOODS` - секция с дополнительными данными по цифровым товарам заказа. Секция содержит следующие поля:
    - `cnt` – количество цифровых товаров в заказе
    - `goods` – ORDER_DIGITAL_GOODS_LIST - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций

- `ORDER_DIGITAL_GOODS_LIST` - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций. Подсекция содержит следующие поля:
    - `id` – ID товара
    - `name` – название товара
    - `brand` – значение поля «Производитель»
    - `art` – значение поля «Артикул»
    - `type` – тип товара (1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `data` – данные по товару (ссылка на файл, электронный код)
    - `size` – размер файла (если тип товара - «1 - товар-файл»)

- `ORDER_DATA` - секция с данными по заказу. Секция содержит следующие поля:
    - `order_hash` – хэш id заказа для получения или изменения даны по заказу
    - `order_cnt` – количество товаров в заказе
    - `order_weight` – суммарный вес заказа
    - `currency` – валюта, в которой был оформлен заказ, где `id` - ID валюты, в которой был оформлен заказ, `rate` - курс валюты на момент оформления заказа
    - `order_discount` – информация о скидке по заказу
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_total` – оборотная сумма заказа
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_profit` – суммарная прибыль по заказ
    - `order_status` – статус заказа, где code - ID статуса, status - название статуса
    - `order_payment` – информация о способе оплаты заказа, где `id` - ID способа оплаты, `name` - название способа оплаты, `descr` - описание способа оплаты
    - `order_delivery` – информация о способе доставки заказа, где `id` - ID способа доставки, `name` - название способа доставки, `descr` - описание способа доставки, `tax` - такса за доставку заказа, `delivery_time` - дата доставки заказа, `delivery_courier` - курьер назначенный заказу
    - `order_fields` – секция со значениями дополнительных полей заказа. В подсекции fields_descr содержится подписи к полям заказа
    - `order_add_date` – дата добавления заказа
    - `order_mod_date` – дата последнего изменения заказа
    - `order_ip` – ip, с которого был сделан заказ
    - `order_user` – логин пользователя, оформившего заказ
    - `order_uid` – ID пользователя, оформившего заказ
    - `order_group_uid` – группа к которой относится пользователь, оформивший заказ
    - `order_auth` – auth-ключ для ссылки на страницу просмотра заказа
    - `order_akey` – ключ для формирования auth-ссылки на страницу просмотра заказа
    - `order_journal` – лог заказа
    - `order_note` – примечания к заказу
    - `order_hide` – группа, к которой относится заказ (0 - «В работе», 1 - «В архиве», 2 - «В корзине»)

- `ORDER_GOODS_OPTIONS` - секция с данными опций товара. Секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_OPTIONS_DATA - секция с выбранными опциями товара
    - `all_options_data` – OPTIONS_DATA - секция со всеми опциями товара

- `SELECTED_OPTIONS_DATA` - секция с выбранными опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер значения опции из списка значений, возвращаемый в параметре `all_options_data->values`
    - `over` – наценка по опции. Если наценка указана в виде процента, то данное поле будет содержать значение в формате `PERSENT&OVER`, например `4%&2.00`.

- `OPTIONS_DATA` - секция со всеми опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` – признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара

#### [PUT] Назначение группы заказу

С помощью запроса можно назначить группы заказу.

> Обязательные параметры: `mode=hide`, `mode=ID_LIST`

- `mode=PAYMENT_ID` – [Строка] – ID заказа(ов), через запятую, для которых нужно назначить группу

Пример запроса:

    $response = $request->put('/shop/invoices/', array(
        'mode'=>'hide',
        'mode'=>'ID_LIST'
    ));

Дополнительные параметры запроса:

- `hide=PAYMENT_ID` – [Число] – группа заказа, которую нужно назначить. **Если параметр не указан, то заказу(ам) будет назначена группа `0 - «В работе»`. !!! Список всех групп можно получить с помощью отдельного запроса - см. раздел «Получение списка групп заказа».** Возможные значения:
    - `0` - «В работе»
    - `1` - «В архиве»
    - `2` - «В корзине»

Пример ответа:

    {
       "success":{
          "msg":"Заказ(ы) перенесены ..."
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Заказ(ы) перенесены ..." } }

#### [PUT] Назначение курьера заказу

С помощью запроса можно назначить группы заказу.

> Обязательные параметры: `mode=setCourier`, `mode=ID_LIST`, `group_courier=COURIER`

- `mode=PAYMENT_ID` – [Строка] – ID заказа(ов), через запятую, для которых нужно назначить статус
- `group_courier=PAYMENT_ID` – [Строка] – логин пользователя, которого нужно назначить курьером для заказа(ов)

Пример запроса:

    $response = $request->put('/shop/invoices/', array(
        'mode'=>'setCourier',
        'mode'=>'ID_LIST',
        'group_courier'=>'COURIER',
    ));

Пример ответа:

    {
       "success":{
          "msg":"Для заказа(ов) ... статус ... установлен"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"~Для заказа(ов) ... курьер ... установлен" } }

#### [PUT] Модификация состава заказа

> Обязательные параметры: `order=ORDER_HASH`

- `order=PAYMENT_ID` – [Строка] - хэш заказа, по которому нужно модифицировать данные

Пример запроса:

    $response = $request->put('/shop/order/', array(
    	'order' => 'UqRgN7O%3B1ElzSZVqyJA4IFXbSG3s8iq3jvd2y%3Boo',
    	'cnt_3' => 10,
    ));

Дополнительные параметры запроса:

- `cnt_REC_ID=PAYMENT_ID` – [Число] - количество единиц товара. REC_ID - ID записи товарной позиции в заказе
- `price_REC_ID=PAYMENT_ID` – [Число] - новая цена товара. REC_ID - ID записи товарной позиции в заказе
- `del_REC_ID=PAYMENT_ID` – [Число] - признак удаления единицы товара из заказа. REC_ID - ID записи товарной позиции в заказе

Пример ответа:

    {
       "success":{
            "order_data": {
                "order_add_date": "1336103454",
                "order_akey": "78f33ec011ee8e0d620fc31cc836d4ef",
                "order_amount": {
                    "amount": "2445.00 руб.",
                    "amount_raw": 2445
                },
                "order_auth": "",
                "order_cnt": "11",
                "order_currency": {
                    "id": "2",
                    "rate": "1"
                },
                "order_delivery": {
                    "courier": "",
                    "delivery_date": "",
                    "descr": "Товар вы можете получить по прибытию в наш магазин",
                    "id": "1",
                    "name": "Самовывоз",
                    "tax": {
                        "tax": "350.00 руб.",
                        "tax_raw": 350
                    }
                },
                "order_discount": {
                    "discount": 0,
                    "discount_raw": 0,
                    "promo_code": "",
                    "promo_group": ""
                },
                "order_fields": {
                    "1": "89111111111",
                    "2": "test_api_change",
                    "3": "Зубков Сергей Владимирович",
                    "fields_descr": {
                        "1": "Контактный телефон",
                        "2": "Адрес доставки",
                        "3": "ФИО"
                    }
                },
                "order_group_name": "Гости",
                "order_group_uid": "999",
                "order_hash": "UqRgN7O%3B1ElzSZVqyJA4IFXbSG3s8iq3jvd2y%3Boo",
                "order_hide": "2",
                "order_ip": "176.59.221.229",
                "order_journal": "-----< 16.09.2020 01:14 >-----------------------------------dmitriy_komissarenko перенёс заказ В корзину-----< 23.10.2012 16:12:45 >---------------
    --------------------Администратор перенёс заказ В архив-----< 04.05.2012 07:50:54 >-----------------------------------Пользователь оформил заказ",
                "order_mod_date": "1601551769",
                "order_note": "",
                "order_payment": {
                    "descr": "Рассчитаться возможно при получении товара",
                    "id": "1",
                    "name": "Наличными при получении"
                },
                "order_profit": {
                    "profit": "0.00 руб.",
                    "profit_raw": "0"
                },
                "order_status": {
                    "code": "0",
                    "status": "Новый"
                },
                "order_topay": {
                    "topay": "2795.00 руб.",
                    "topay_curr": "2795.00 руб.",
                    "topay_raw": 2795
                },
                "order_total": {
                    "total": "2795.00 руб.",
                    "total_raw": 2795
                },
                "order_uid": "0",
                "order_user": "",
                "order_vat": {
                    "vat": 0,
                    "vat_raw": 0,
                    "vat_type": "0"
                },
                "order_weight": {
                    "weight": "0.00",
                    "weight_raw": 0
                }
            },
            "order_digital_goods": {
                "cnt": 0,
                "goods": []
            },
            "order_goods": {
                "goods": {
                    "3": {
                        "cnt": "10",
                        "goods_id": "3",
                        "goods_url": {
                            "hgu": null,
                            "shop_url": ""
                        },
                        "name": "Влагоотделитель, 1/4\" MATRIX 57008",
                        "price": {
                            "price": "183.50 руб.",
                            "price_raw": 183.5
                        },
                        "price_in": {
                            "price": "183.50 руб.",
                            "price_raw": "183.50"
                        },
                        "sum": {
                            "sum": "1835.00 руб.",
                            "sum_raw": 1835
                        }
                    },
                    "486": {
                        "cnt": "1",
                        "goods_id": "105393",
                        "goods_url": {
                            "hgu": "shakhmaty-n08824",
                            "shop_url": "http://yoursite.ucoz.ru/shop/105393/desc/shakhmaty-n08824"
                        },
                        "name": "Шахматы Н08824",
                        "price": {
                            "price": "610.00 руб.",
                            "price_raw": 610
                        },
                        "price_in": {
                            "price": "610.00 руб.",
                            "price_raw": "610.00"
                        },
                        "sum": {
                            "sum": "610.00 руб.",
                            "sum_raw": 610
                        }
                    }
                },
                "goods_fields": {
                    "cnt": "Кол-во",
                    "name": "Наименование",
                    "price": "Цена",
                    "price_in": "Входящая",
                    "sum": "Сумма"
                }
            },
            "order_id": "1",
            "order_nom": "00001"
        }

    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `order_id` – ID заказа (номер заказа)
    - `order_nom` – отформатированный ID заказа (номер заказа)
    - `order_goods` – ORDER_GOODS - секция с информацией о товарах заказа
    - `order_digital_goods` – ORDER_DIGITAL_GOODS - секция с информацией о цифровых товарах заказа
    - `order_data` – ORDER_DATA - секция с данными по заказу

- `ORDER_GOODS` - секция с товарами заказа. Секция содержит следующие поля:
    - `goods_fields` – секция с описанием полей товара
    - `goods` – ORDER_GOODS_LIST - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в заказе

- `ORDER_GOODS_LIST` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настройки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_DIGITAL_GOODS` - секция с дополнительными данными по цифровым товарам заказа. Секция содержит следующие поля:
    - `cnt` – количество цифровых товаров в заказе
    - `goods` – ORDER_DIGITAL_GOODS_LIST - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций

- `ORDER_DIGITAL_GOODS_LIST` - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций. Подсекция содержит следующие поля:
    - `id` – ID товара
    - `name` – название товара
    - `brand` – значение поля «Производитель»
    - `art` – значение поля «Артикул»
    - `type` – тип товара (1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `data` – данные по товару (ссылка на файл, электронный код)
    - `size` – размер файла (если тип товара - «1 - товар-файл»)

- `ORDER_DATA` - секция с данными по заказу. Секция содержит следующие поля:
    - `order_hash` – хэш id заказа для получения или изменения даны по заказу
    - `order_cnt` – количество товаров в заказе
    - `order_weight` – суммарный вес заказа
    - `currency` – валюта, в которой был оформлен заказ, где `id` - ID валюты, в которой был оформлен заказ, `rate` - курс валюты на момент оформления заказа
    - `order_discount` – информация о скидке по заказу
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_total` – оборотная сумма заказа
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_profit` – суммарная прибыль по заказ
    - `order_status` – статус заказа, где code - ID статуса, status - название статуса
    - `order_payment` – информация о способе оплаты заказа, где `id` - ID способа оплаты, `name` - название способа оплаты, `descr` - описание способа оплаты
    - `order_delivery` – информация о способе доставки заказа, где `id` - ID способа доставки, `name` - название способа доставки, `descr` - описание способа доставки, `tax` - такса за доставку заказа, `delivery_time` - дата доставки заказа, `delivery_courier` - курьер назначенный заказу
    - `order_fields` – секция со значениями дополнительных полей заказа. В подсекции `fields_descr` содержится подписи к полям заказа
    - `order_add_date` – дата добавления заказа
    - `order_mod_date` – дата последнего изменения заказа
    - `order_ip` – ip, с которого был сделан заказ
    - `order_user` – логин пользователя, оформившего заказ
    - `order_uid` – ID пользователя, оформившего заказ
    - `order_group_uid` – группа к которой относится пользователь, оформивший заказ
    - `order_auth` – auth-ключ для ссылки на страницу просмотра заказа
    - `order_akey` – ключ для формирования auth-ссылки на страницу просмотра заказа
    - `order_journal` – лог заказа
    - `order_note` – примечания к заказу
    - `order_hide` – группа, к которой относится заказ (0 - «В работе», 1 - «В архиве», 2 - «В корзине»)

#### [PUT] Модификация полей заказа

> Обязательные параметры: `mode=inv_chfld_save`, `order=ORDER_HASH`, `fid=FIELD_ID`, `fval=FIELD_VALUE`

- `mode=PAYMENT_ID` – [Строка] - действие, которое нужно выполнить - изменить поле заказа
- `order=PAYMENT_ID` – [Строка] - хэш заказа, по которому нужно модифицировать данные
- `fid=PAYMENT_ID` – [Число] - номер поля заказа, значение которого нужно изменить. Полный список полей заказа можно получить с помощью GET-запроса «Получение списка полей заказа» !!! Через API можно изменять поля всех типов кроме типа `file`
- `fval=PAYMENT_ID` – [Строка] - значение, которое нужно установить для поля. Для типа поля `checkbox` значение должно быть `1` или `0`.

Пример запроса:

    $response = $request->put('/shop/invoices/', array(
    	'order' => 'UqRgN7O%3B1ElzWc9Oy1Ata9hLSGzgcNVN25iA3Mko',
    	'mode' => 'inv_chfld_save',
    	'fid' => 2,
    	'fval' => 'test_api_change',
    ));

Дополнительные параметры запроса:

- `gmap_a=ADDRESS` – [Строка] - адрес для поля типа `gmaps`
- `gmap_s=PAYMENT_ID` – [Строка] - значение lat координаты для поля типа `gmaps` в формате `49.431347032415715`
- `gmap_d=PAYMENT_ID` – [Строка] - значение long координаты для поля типа `gmaps` в формате `32.09275390624998`

Пример ответа:

    {
       "success":{
            "order_data": {
                "order_add_date": "1358864881",
                "order_akey": "4430da8174b6f70bb48a77828d7b0b07",
                "order_amount": {
                    "amount": "1690.00 руб.",
                    "amount_raw": 1690
                },
                "order_auth": "",
                "order_cnt": "10",
                "order_currency": {
                    "id": "2",
                    "rate": "1"
                },
                "order_delivery": {
                    "courier": "",
                    "delivery_date": "",
                    "descr": "Доставка товара до подъезда с согласованием с вами времени доставки. Обращаем ваше внимание на то, что стоимость доставки может измениться в зависимости от расстоя
    ния от нашего магазина до вас. (Только по городу Бор)",
                    "id": "2",
                    "name": "Платная доставка",
                    "tax": {
                        "tax": 0,
                        "tax_raw": 0
                    }
                },
                "order_discount": {
                    "discount": 0,
                    "discount_raw": 0,
                    "promo_code": "",
                    "promo_group": ""
                },
                "order_fields": {
                    "1": "89175525353",
                    "2": "test_api_change",
                    "3": "Ананьев Дмитрий Вячеславович",
                    "fields_descr": {
                        "1": "Контактный телефон",
                        "2": "Адрес доставки",
                        "3": "ФИО"
                    }
                },
                "order_group_name": "Гости",
                "order_group_uid": "999",
                "order_hash": "UqRgN7O%3B1ElzWc9Oy1Ata9hLSGzgcNVN25iA3Mko",
                "order_hide": "0",
                "order_ip": "46.73.44.5",
                "order_journal": "-----< 16.09.2020 01:12 >-----------------------------------dmitriy_komissarenko изменил статус: Новый => Завершён-----< 22.01.2013 18:28:01 >-----
    ------------------------------Пользователь оформил заказ",
                "order_mod_date": "1601551085",
                "order_note": "",
                "order_payment": {
                    "descr": "Рассчитаться возможно при получении товара",
                    "id": "1",
                    "name": "Наличными при получении"
                },
                "order_profit": {
                    "profit": "0.00 руб.",
                    "profit_raw": "0.00"
                },
                "order_status": {
                    "code": "8",
                    "status": "Завершён"
                },
                "order_topay": {
                    "topay": "1690.00 руб.",
                    "topay_curr": "1690.00 руб.",
                    "topay_raw": 1690
                },
                "order_total": {
                    "total": "1690.00 руб.",
                    "total_raw": 1690
                },
                "order_uid": "0",
                "order_user": "",
                "order_vat": {
                    "vat": 0,
                    "vat_raw": 0,
                    "vat_type": "0"
                },
                "order_weight": {
                    "weight": "0.00",
                    "weight_raw": 0
                }
            },
            "order_digital_goods": {
                "cnt": 0,
                "goods": []
            },
            "order_goods": {
                "goods": {
                    "15": {
                        "cnt": "10",
                        "goods_id": "9914",
                        "goods_url": {
                            "hgu": null,
                            "shop_url": ""
                        },
                        "name": "Набор cверел п/мет. 20шт HSS \"микро\" набор 36360",
                        "price": {
                            "price": "169.00 руб.",
                            "price_raw": 169
                        },
                        "price_in": {
                            "price": "169.00 руб.",
                            "price_raw": "169.00"
                        },
                        "sum": {
                            "sum": "1690.00 руб.",
                            "sum_raw": 1690
                        }
                    }
                },
                "goods_fields": {
                    "cnt": "Кол-во",
                    "name": "Наименование",
                    "price": "Цена",
                    "price_in": "Входящая",
                    "sum": "Сумма"
                }
            },
            "order_id": "11",
            "order_nom": "00011"
        }

    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `order_id` – ID заказа (номер заказа)
    - `order_nom` – отформатированный ID заказа (номер заказа)
    - `order_goods` – ORDER_GOODS - секция с информацией о товарах заказа
    - `order_digital_goods` – ORDER_DIGITAL_GOODS - секция с информацией о цифровых товарах заказа
    - `order_data` – ORDER_DATA - секция с данными по заказу

- `ORDER_GOODS` - секция с товарами заказа. Секция содержит следующие поля:
    - `goods_fields` – секция с описанием полей товара
    - `goods` – ORDER_GOODS_LIST - секция со списком товаров заказа. ID подсекции - ID записи товарной позиции в заказе

- `ORDER_GOODS_LIST` - секция с описанием дополнительных полей заказа. ID подсекции - порядковый номер поля в списке полей. Список полей зависит от настройки «Дополнительные поля формы заказа» на странице «Управление полями заказа» магазина. Каждая подсекция содержит следующие поля:
    - `goods_id` – ID товара *
    - `name` – значение поля «Наименование»
    - `price` – цена товара *
    - `cnt` – количество товара в заказе *
    - `sum` – стоимость товара с учетом его количества в заказе *
    - `vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `warning` – предупреждения по товару (например, если товара нет в наличие на момент оформления заказа) *
    - `cat` – секция с данными о категории товара.
        - `cat_id` - ID категории.
        - `cat_name` - название категории
    - `img` – секция с данными изображения «по умолчанию».
        - `small` - URL к изображению-иконке товара.
        - `photo` - URL к полному изображению товара
    - `art` – значение поля «Артикул»
    - `brand` – значение поля «Производитель»
    - `warr` – значение поля «Гарантия»
    - `weight` – значение поля «Вес»
    - `unit` – значение поля «Единица»
    - `options` – выбранные опции товара
    - `otherN` – значение поля «Дополнительное поле N». Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
    - `added_user` – логин пользователя, добавившего товар

> **\* Всегда присутствует, не зависимо от настройки «Отображение полей товара в заказе»**

- `ORDER_DIGITAL_GOODS` - секция с дополнительными данными по цифровым товарам заказа. Секция содержит следующие поля:
    - `cnt` – количество цифровых товаров в заказе
    - `goods` – ORDER_DIGITAL_GOODS_LIST - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций

- `ORDER_DIGITAL_GOODS_LIST` - секция с дополнительными данными по цифровым товарам заказа. ID подсекции - порядковый номер в списке подсекций. Подсекция содержит следующие поля:
    - `id` – ID товара
    - `name` – название товара
    - `brand` – значение поля «Производитель»
    - `art` – значение поля «Артикул»
    - `type` – тип товара (1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `data` – данные по товару (ссылка на файл, электронный код)
    - `size` – размер файла (если тип товара - «1 - товар-файл»)

- `ORDER_DATA` - секция с данными по заказу. Секция содержит следующие поля:
    - `order_hash` – хэш id заказа для получения или изменения даны по заказу
    - `order_cnt` – количество товаров в заказе
    - `order_weight` – суммарный вес заказа
    - `currency` – валюта, в которой был оформлен заказ, где `id` - ID валюты, в которой был оформлен заказ, `rate` - курс валюты на момент оформления заказа
    - `order_discount` – информация о скидке по заказу
    - `order_amount` – cумарная стоимость товарных позиций в заказе
    - `order_total` – оборотная сумма заказа
    - `order_topay` – сумма к оплате выбранным способом с учётом дисконтной скидки
    - `order_vat` – НДС от суммы «К оплате» (`order_topay`)
    - `order_profit` – суммарная прибыль по заказ
    - `order_status` – статус заказа, где code - ID статуса, status - название статуса
    - `order_payment` – информация о способе оплаты заказа, где `id` - ID способа оплаты, `name` - название способа оплаты, `descr` - описание способа оплаты
    - `order_delivery` – информация о способе доставки заказа, где `id` - ID способа доставки, `name` - название способа доставки, `descr` - описание способа доставки, `tax` - такса за доставку заказа, `delivery_time` - дата доставки заказа, `delivery_courier` - курьер назначенный заказу
    - `order_fields` – секция со значениями дополнительных полей заказа. В подсекции `fields_descr` содержится подписи к полям заказа
    - `order_add_date` – дата добавления заказа
    - `order_mod_date` – дата последнего изменения заказа
    - `order_ip` – ip, с которого был сделан заказ
    - `order_user` – логин пользователя, оформившего заказ
    - `order_uid` – ID пользователя, оформившего заказ
    - `order_group_uid` – группа к которой относится пользователь, оформивший заказ
    - `order_auth` – auth-ключ для ссылки на страницу просмотра заказа
    - `order_akey` – ключ для формирования auth-ссылки на страницу просмотра заказа
    - `order_journal` – лог заказа
    - `order_note` – примечания к заказу
    - `order_hide` – группа, к которой относится заказ (0 - «В работе», 1 - «В архиве», 2 - «В корзине»)

#### [PUT] Назначение статуса заказу

> Обязательные параметры: `mode=status`, `ids=ID_LIST`

- `mode=PAYMENT_ID` – [Строка] - указывает тип запроса - назначение статуса заказу
- `ids=PAYMENT_ID` – [Строка] - ID заказа(ов), через запятую, для которых нужно назначить статус

Пример запроса:

    $response = $request->put('/shop/invoices/', array(
    	'mode' => 'status',
    	'ids' => '1, 2, 4',
    	'status' => '4',
    ));

Дополнительные параметры запроса:

- `status=PAYMENT_ID` – [Число] - статус заказа, который нужно назначить. **!!! Если параметр не указан, то заказу(ам) будет назначена группа `0 - «Новый»`. !!! Список всех статусов заказа можно получить с помощью отдельного запроса - см. раздел [Получение списка статусов заказа](#module-shop-getshopdata).** Возможные значения:
    - `0` - Новый
    - `1` - Оплачивается
    - `2` - Оплачен
    - `3` - В обработке
    - `4` - Готов
    - `5` - Доставляется
    - `7` - Доставлен
    - `8` - Завершён
    - `9` - Отменён

Пример ответа:

    {
       "success":{
            "msg": "Для заказа(ов) 1, 2, 4 статус \"Готов\" установлен"
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg": "Для заказа(ов) ... статус ... установлен" } }

#### [GET] Получение списка брошенных корзин

> Обязательные параметры: отсутствуют

Дополнительные параметры запроса:

- `page=PAGE_ID` – [Число] - номер текущей страницы выборки (значение по умолчанию - 1)
- `per_page=NUM` – [Число] - количество корзин на страницу выборки (максимальное значение и значение по умолчанию - 20)
- `f_users_ids=PAYMENT_ID` – [Строка] - список ID пользователей, через запятую, которым принадлежат брошенные корзины
- `f_user_login=PAYMENT_ID` – [Строка] - логин пользователя (значение должно быть в Base64), которому принадлежит брошенная корзина. Можно указывать как точный логин пользователя так и маску для поиска. В маске можно использовать символы: `*` - любое количество символов в имени, `?` - один любой символ. Например, запрос `ad*`; найдет все имена, начинающиеся с `ad`: `admin`, `administrator`, `admin007` и т.д.
- `f_user_group=PAYMENT_ID` – [Число] - ID группы пользователей которым принадлежат брошенные корзины
- `f_goods_ids=PAYMENT_ID` – [Строка] - список ID товаров, через запятую, входящих в состав брошенных корзин пользователей
- `f_goods_count_mode=PAYMENT_ID` – [Строка] - указывает режим фильтрации по суммарному количеству товаров в корзине. **!!! Должен использоваться вместе с параметром `f_goods_count`, иначе будет проигнорирован.** Возможные значения:
    - `'eq'` - равно;
    - `'neq'` - не равно;
    - `'gr'` - больше;
    - `'greq'` - больше или равно;
    - `'les'` - меньше;
    - `'leq'` - меньше или равно;
    - `'btw'` - от...до (включая границы);
    - `'nin'` - ...до и от… (не включая границы);

    > При выборе параметра `от...до` или `...до и от...` нужно указать нижний и верхний пределы через пробел. Иначе указываем только одно число.

- `f_goods_count=PAYMENT_ID` – [Строка] - фильтр по суммарному количеству товаров в корзине. **!!! Должен использоваться вместе с параметром `f_goods_count_mode`, иначе будет проигнорирован.**
- `f_price_mode=PAYMENT_ID` – [Строка] - указывает режим фильтрации по сумме брошенных корзин. **!!! Должен использоваться вместе с параметром `f_price`, иначе будет проигнорирован.** Возможные значения:
    - `'eq'` - равно;
    - `'neq'` - не равно;
    - `'gr'` - больше;
    - `'greq'` - больше или равно;
    - `'les'` - меньше;
    - `'leq'` - меньше или равно;
    - `'btw'` - от...до;
    - `'nin'` - ...до и от...;

    > При выборе параметра `от...до` или `...до и от...` нужно указать нижний и верхний пределы через пробел. Иначе указываем только одно число.

- `f_price=PAYMENT_ID` – [Строка] - фильтр по сумме брошенных корзин. **!!! Должен использоваться вместе с параметром `f_price_mode`, иначе будет проигнорирован.**
- `f_date=PAYMENT_ID` – [Строка] - фильтр по дате последнего входа пользователя на сайт - период в формате `date1|date2`. Будут отобраны брошенные корзины, пользователи которых входили на сайт в указанный период. Если не будет указана дата date1, то вместо нее будет использоваться значение `2000-01-01`. Если не будет указана дата date2, то вместо нее будет использоваться значение `2100-12-31`. Значение параметра `|` будет проигнорировано. **!!! date1 и date2 должны соответствовать формату `YYYY-MM-DD HH:MI:SS`, где YYYY - год, MM - месяц, DD - день, HH - часы, MI - минуты, SS - секунды. Время является необязательной частью.**

Пример запроса:

    $response = $request->get('/shop/usersbasket/', array(
        //
    ));

Пример ответа:

    {
       "success":{
            "paginator_page": 1,
            "paginator_pages_cnt": 1,
            "users_baskets": {
                "8": {
                    "user_last_activity": "1599690384",
                    "user_ip": "193.109.246.211",
                    "user_group_name": "Пользователи1",
                    "user_login": "ucozt0222",
                    "user_basket_items": {
                        "60": {
                            "name": "Akai LTA-32N680HCP",
                            "cnt": "1",
                            "price": "110.00",
                            "goods_id": "8",
                            "sum": "110.00"
                        },
                        "61": {
                            "goods_id": "7",
                            "price": "100.00",
                            "sum": "100.00",
                            "cnt": "1",
                            "name": "LCD телевизор LG 19LG3060"
                        }
                    },
                    "user_basket_amount": "210.00",
                    "user_email": "ucozt02222@gmail.com",
                    "user_phone": "",
                    "user_id": "8",
                    "user_basket_items_cnt": 2,
                    "user_name": "test ucoz",
                    "user_group_id": "1"
                },
                "6": {
                    "user_group_id": "4",
                    "user_name": "тест",
                    "user_basket_items_cnt": 2,
                    "user_id": "6",
                    "user_phone": "",
                    "user_email": "test@test.ru",
                    "user_basket_amount": "52.00",
                    "user_basket_items": {
                        "245": {
                            "name": "Евгений Онегин",
                            "cnt": "1",
                            "price": "1.00",
                            "goods_id": "11",
                            "sum": "1.00"
                        },
                        "244": {
                            "cnt": "1",
                            "name": "Леггинсы с принтом мышечного строения тела (Размер: L)",
                            "goods_id": "9",
                            "price": "51.00",
                            "sum": "51.00"
                        }
                    },
                    "user_login": "testtest",
                    "user_group_name": "Администраторы",
                    "user_ip": "109.122.62.126",
                    "user_last_activity": "1601549277"
                },
            },
            "paginator_per_page": 20,
            "paginator_count": 3
        }

    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция с данными. Секция содержит следующие поля:
    - `users_baskets` – USERS_BASKETS - секция с данными о брошенных корзинах пользователей. Данная секция содержит список подсекций с данными по каждому заказу. ID подсекции - ID пользователя, которому принадлежит брошенная корзина
    - `paginator_pages_cnt` – количество страниц выборки.
    - `paginator_page` – номер текущей страницы выборки.
    - `paginator_count` – суммарное количество секций.
    - `paginator_per_page` – количество секций на странице выборки.

- `USERS_BASKETS` - секция с данными о брошенных корзинах пользователей. Данная секция содержит следующие поля:
    - `user_id` – ID пользователя, которому принадлежит корзина
    - `user_login` – логин пользователя, которому принадлежит корзина
    - `user_group_id` – ID группы пользователя, которому принадлежит корзина
    - `user_group_name` – название группы пользователя, которому принадлежит корзина
    - `user_name` – Ф.И.О пользователя, которому принадлежит корзина
    - `user_email` – E-Mail пользователя, которому принадлежит корзина
    - `user_phone` – телефон пользователя, которому принадлежит корзина (если такой указан в профиле пользователя)
    - `user_last_activity` – дата последнего входа на сайт пользователя, которому принадлежит корзина
    - `user_ip` – IP с которого был выполнен вход на сайт пользователем, которому принадлежит корзина
    - `user_basket_amount` – сумма корзины
    - `user_basket_items_cnt` – количество товаров в корзине
    - `user_basket_items` – BASKET_ITEMS - секция с данными о товарах корзины. ID подсекции - внутренний ID товара в корзине.

- `BASKET_ITEMS` - секция с данными о товарах корзины. Данная секция содержит следующие поля:
    - `goods_id` – ID товара
    - `name` – значение поля «Наименование»
    - `price` – цена единицы товара с наценкой
    - `cnt` – количество товара в корзине
    - `sum` – стоимость товара с учетом его количества в корзине

> **!!! Также могут присутствовать и другие поля, в зависимости от настроек отображения полей заказа в магазине**

#### [GET] Получение списка способов доставки

> Обязательные параметры: `page=deliverymethods`

- `page=deliverymethods` – [Строка] - указывает, что нужно получить список способов доставки

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'deliverymethods',
    ));

Пример ответа:

    {
       "success":{
    		"1": {
    				"name": "Самовывоз",
    				"dscr": "Товар вы можете получить по прибытию в наш офис",
    				"courier": null,
    				"pos": 1
    			}
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция со списком способов оплаты. Данная секция содержит список подсекций с данными по каждому способу доставки. ID подсекции - ID способа доставки в магазине. Каждая подсекция содержит следующие поля:
    - `name` – название способа доставки
    - `dscr` – описание способа доставки
    - `pos` – номер позиции в списке способов доставки
    - `courier` – признак, что для данного способа доставки возможна курьерская доставка.

#### [GET] Получение списка способов оплаты

> Обязательные параметры: `page=paymentsmethods`

- `page=paymentsmethods` – [Строка] - указывает, что нужно получить список способов оплаты

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'paymentsmethods',
    ));

Пример ответа:

    {
       "success":{
            "2": {
                "name": "unitpay",
                "delivery_assoc": {
                    "all": 1
                },
                "dscr": "Оплата посредством Unitpay",
                "pos": 2
            },
            "1": {
                "delivery_assoc": {
                    "all": 1
                },
                "name": "Наличными при получении",
                "dscr": "Рассчитаться можно с курьером наличными при получении товара",
                "pos": 1
            }
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция со списком способов оплаты. Данная секция содержит список подсекций с данными по каждому способу оплаты. ID подсекции - ID способа оплаты в магазине. Каждая подсекция содержит следующие поля:
- `name` – название способа оплаты
- `dscr` – описание способа оплаты
- `pos` – номер позиции в списке способов оплат
- `delivery_assoc` – секция с данными о связях способа оплаты со способами доставки. В секции запись с ключем `all` указывает связан ли способ оплаты со всеми способами доставки (значение 1) или только с некоторыми (значение 0). ID каждой записи - ID способа доставки. Значение каждой записи указывает связан ли (значение 1) или нет (значение 0) способ оплаты с данным способом доставки.

<a name="module-shop-getshopdata"></a>
#### [GET] Получение списка статусов заказа

> Обязательные параметры: `page=order_status_list`

- `page=order_status_list` – [Строка] - указывает, что нужно получить список статусов заказов

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'order_status_list',
    ));

Пример ответа:

    {
       "success":{
            "2": "Оплачен",
            "8": "Завершён",
            "1": "Оплачивается",
            "10": "Обработка оплаты",
            "0": "Новый",
            "3": "В обработке",
            "6": "Доставлен в пункт самовывоза",
            "9": "Отменён",
            "4": "Готов",
            "5": "Доставляется",
            "7": "Доставлен"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - где DATA - секция со списком статусов заказов. ID записи - ID статуса заказа в магазине. Значение записи - название статуса заказа в текущей локализации сайта.

#### [GET] Получение списка групп заказа

> Обязательные параметры: `page=order_hide_list`

`page=order_hide_list` – [Строка] - указывает, что нужно получить список групп заказа

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'order_hide_list',
    ));

Пример ответа:

    {
       "success":{
           "0": "В работе",
            "1": "В архиве",
            "2": "В корзине"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

{ "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция со списком групп заказа. ID записи - ID группы заказа в магазине. Значение записи - название группы заказа в текущей локализации сайта.

#### [GET] Получение списка полей заказа

> Обязательные параметры: `page=order_fields_list`

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'order_fields_list',
    ));

Пример ответа:

    {
       "success":{
            "2": {
                "required": 0,
                "afld": "",
                "name": "Адрес доставки",
                "type": "textarea",
                "dig": 0,
                "pos": 2,
                "expand": 1
            },
            "1": {
                "name": "Контактный телефон",
                "afld": "",
                "required": 0,
                "pos": 1,
                "expand": 1,
                "dig": -1,
                "type": "phone"
            },
            "8": {
                "afld": "",
                "name": "Название поля №8",
                "required": 0,
                "expand": 1,
                "pos": 8,
                "type": "promo",
                "dig": -1
            },
            "3": {
                "expand": 1,
                "pos": 3,
                "type": "text",
                "dig": -1,
                "afld": "",
                "name": "text",
                "required": 0
            },
            "6": {
                "type": "email",
                "dig": -1,
                "expand": 1,
                "pos": 6,
                "required": 0,
                "afld": "",
                "name": "почта"
            },
            "4": {
                "required": 0,
                "name": "Название поля №4",
                "afld": "",
                "dig": -1,
                "type": "checkbox",
                "expand": 1,
                "pos": 4
            },
            "5": {
                "pos": 5,
                "expand": 1,
                "type": "select",
                "dig": -1,
                "values": [
                    "1",
                    "2",
                    "3"
                ],
                "required": 0,
                "afld": "",
                "name": "Название поля №5"
            },
            "7": {
                "afld": "",
                "name": "Название поля №7",
                "required": 0,
                "pos": 7,
                "expand": 1,
                "type": "file",
                "dig": -1
            }
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция со списком полей заказа. Данная секция содержит список подсекций с данными по каждому полю заказа. ID подсекции - порядковый номер поля в списке полей. Каждая подсекция содержит следующие поля:
    - `name` – название поля
    - `type` – тип поля (text, textarea, checkbox, file, email, phone, promo, select, radio, gmaps)
    - `required` – значение опции «Обязательное поле»
    - `pos` – позиция поля в списке полей
    - `dig` – тип товара, при котором поле выводится в магазине. Возможные значения:
        - `-1` - любого типа
        - `0` - Материальный товар
        - `1` - Товар является файлом
        - `2` - Товар - электронный код
        - `3` - Услуга
    - `afld` – указывает с каким полем из карточки пользователя ассоциировать данное поле. Возможные значения:
        - `пустое значение` - нет ассоциации
        - `full_name` - Имя
        - `phone` - Телефон
        - `email` - E-mail
        - `gender` - Пол
        - `state` - Штат
        - `city` - Город
        - `msn` - MSN
        - `aol` - AOL
        - `icq` - ICQ
        - `yahoo` - Yahoo
        - `signature` - Подпись
        - `birthday` - Дата рождения

#### [GET] Получение списка отображаемых в заказе полей товара

> Обязательные параметры: `page=order_goods_fields_list`

`page=order_goods_fields_list` – [Строка] - указывает, что нужно получить список отображаемых в заказе полей товара

Пример запроса:

    $response = $request->get('/shop/getshopdata/', array(
    	'page' => 'order_goods_fields_list',
    ));

Пример ответа:

    {
       "success":{
            "name": "Наименование",
            "price_in": "Входящая",
            "price": "Цена",
            "sum": "Сумма",
            "cnt": "Кол-во"
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ DATA } }

Расшифровка ответа сервера:

- `DATA` - секция со списком отображаемых в заказе полей товара. CODE записи - код поля товара в магазине. Значение записи - название поля товара в текущей локализации сайта.

#### [PUT] Модификация примечания к заказу

> Обязательные параметры: `mode=inv_note_save`, `id=ORDER_ID`, `note=ORDER_NOTE`

`mode=inv_note_save` – [Строка] - действие, которое нужно выполнить - изменить примечания к заказу
`id=ORDER_ID` – [Число] - номер заказа
`note=ORDER_NOTE` – [Строка] - текст примечания к заказу

Пример запроса:

    $response = $request->put('/shop/checkout/', array(
    	'mode' => 'inv_note_save',
    	'id' => 180,
    	'note' => 'текст примечания',
    ));

Пример ответа:

    {
       "success":{
            "msg": "Комментарий успешно изменен"
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Комментарий успешно изменен" } }

<a name="module-shop-cats"></a>
### Категории магазина

#### [GET] Получить список категорий

> Обязательные параметры: `page=categories`

Параметр `page=categories` имитирует работу переменной `$CATEGORIES$` в шаблонизаторе uCoz (вывод всех категорий).

Пример запроса:

    $response = $request->get('/shop/request', array(
       'page' => 'categories'
    ));

Дополнительные параметры запроса:

- `parent_id=CATEGORY_ID` – [Число] - ID родительской категории
- `get_globals=[0|1]` – [Число] - указывает на то, что нужно получить список глобальных категорий магазина

Пример ответа:

    {
       "success":[
          {
             "cat_id":"1",
             "cat_descr":"Нематериальные товары",
             "goods_count":3,
             "cat_img":"",
             "cat_name":"Цифровые товары",
             "meta_data":{
                "META_DESCRIPTION":". Нематериальные товары",
                "META_TITLE":"Цифровые товары"
             },
             "childs":"",
             "cat_url":"digital-goods"
          },
          {
             "cat_id":"2",
             "cat_descr":"Необычные товары. Категория содержит подкатегории",
             "goods_count":4,
             "cat_img":"http://yoursite.ucoz.ru/_sh/00/2c.png",
             "cat_name":"Гаджеты",
             "meta_data":{
                "META_DESCRIPTION":"Спорт Игры. Необычные товары. Категория содержит подкатегории",
                "META_TITLE":"Гаджеты"
             },
             "childs":[
                {
                   "cat_id":"5",
                   "cat_descr":"Игровые товары",
                   "goods_count":2,
                   "cat_img":"",
                   "cat_name":"Игры",
                   "meta_data":{
                      "META_DESCRIPTION":". Игровые товары",
                      "META_TITLE":"Игры"
                   },
                   "childs":"",
                   "cat_url":"gadjets/games"
                },
                {
                   "cat_id":"6",
                   "cat_descr":"",
                   "goods_count":2,
                   "cat_img":"",
                   "cat_name":"Спорт",
                   "meta_data":{
                      "META_DESCRIPTION":"",
                      "META_TITLE":""
                   },
                   "childs":"",
                   "cat_url":"gadjets/sport"
                }
             ],
             "cat_url":"gadjets"
          },
          {
             "cat_id":"4",
             "cat_descr":"В этой категории содержатся товары с опциями",
             "goods_count":2,
             "cat_img":"http://yoursite.ucoz.ru/_sh/00/4c.png",
             "cat_name":"Одежда",
             "meta_data":{
                "META_DESCRIPTION":"продажа одежды",
                "META_TITLE":"Одежда"
             },
             "childs":"",
             "cat_url":"clothing"
          }
       ]
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { '0': { CATEGORY_DATA } '1': { CATEGORY_DATA } ... } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort - SORT_DATA` – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META`-DATA – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега `<meta name="description" content="..." />`
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – оличество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [POST] Добавить категорию

> Обязательные параметры: `mode=add`, `name=NAME`

Пример запроса:

    $response = $request->post('/shop/edit_cat', array(
    	'mode' => 'add',
    	'name' => 'CAT_NAME'
    ));

Дополнительные параметры запроса:

- `pid=PARENT_CAT_ID` – [Число] - ID родительской категории. Если указан, то категория будет создана вложенной в указанную родительскую категорию. ID должен быть ID существующей в магазине категории
- `global_cat=GLOBAL_CAT_ID` – [Число] - ID категории группы товаров.
- `dscr=DESCRIPTION` – [Строка] - Описание категории
- `meta_title=TITLE` – [Строка] - HTML Заголовок страницы
- `meta_dscr=DESCRIPTION` – [Строка] - HTML meta description
- `url=CAT_URI` – [Строка] - URI (Человеко Понятный Урл) категории
- `pos=POS` – [Число] - Позиция категории в списке категорий
- `cat_img=IMG_PATH` – [Строка] - путь к файлу на сервере из которого отсылается API-запрос
- `view_groups=ID_LIST` – [Строка] - список, через запятую, ID групп которые будут иметь доступ к категории
- `add_groups=ID_LIST` – [Строка] - список, через запятую, ID групп которые будут иметь возможность добавлять материалы в категорию
- `exclude_from_discount=[0|1]` – [Число] - отключает/включает для категории признак «Исключить из скидок»
- `yml_name=NAME` – [Строка] - Название категории для Яндекс.Маркета ()
- `yml_fee=FEE` – [Строка] - Размер комиссии на товарное предложение ("fee") для Яндекс.Маркета
- `yml_is_adult=[0|1]` – [Число] - отключает/включает атрибут «Категория с товарами adult-секции»
- `yml_is_delivery=[0|1]` – [Число] - отключает/включает атрибут «Товары категории доставляются курьерской доставкой»
- `yml_is_pickup=[0|1]` – [Число] - отключает/включает атрибут «Самовывоз товаров категории из пунктов выдачи»
- `yml_is_store=[0|1]` – [Число] - отключает/включает атрибут «Товары категории можно купить в розничном магазине»
- `yml_name=NAME` – [Строка] - Название категории для Яндекс.Маркета ()

Пример ответа:

    {
       "success":{
          "msg":"Категория успешно добавлена",
          "cat_data":{
    		  "id":"2532",
    		  "view_groups":"",
    		  "url":"cat_name-1",
    		  "cat_img":"http://yoursite.ucoz.ru/.s/img/sh/nfp.png",
    		  "name":"CAT_NAME",
    		  "add_groups":"",
    		  "pos":"20",
    		  "pid":"0",
    		  "global_cat":"0"		 
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': "Категория успешно добавлена", 'cat_data': CATEGORY_DATA } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `id` – ID созданной категории
    - `pid` – ID родительской категории
    - `global_cat` – ID категории группы товаров
    - `name` – название категории
    - `url` – URI категории
    - `cat_img` – полная ссылка на изображение категории
    - `pos` – позиция категории в списке категорий
    - `view_groups` – список, через двоеточие, ID групп которые имеют доступ к категории
    - `add_groups` – список, через двоеточие, ID групп которые имеют возможность добавлять материалы в категорию

#### [POST] Изменить данные категории

> Обязательные параметры: `mode=edit`, `id=CAT_ID`

Пример запроса:

    $response = $request->post('/shop/edit_cat', array(
    	'mode' => 'edit',
    	'id' => 2532,
    	'name' => 'Новое название категории'
    ));

Дополнительные параметры запроса:

- `name=NAME` – [Строка] - название категории
- `pid=PARENT_CAT_ID` – ID родительской категории. Если указан, то категория будет перемещена в указанную родительскую категорию. ID должен быть ID существующей в магазине категории. Если нужно перенести категорию в корень дерева, то нужно для параметра «pid» указывать значение 0.
- `global_cat=GLOBAL_CAT_ID` – [Число] - ID категории группы товаров.
- `dscr=DESCRIPTION` – [Строка] - Описание категории
- `meta_title=TITLE` – [Строка] - HTML Заголовок страницы
- `meta_dscr=DESCRIPTION` – [Строка] - HTML meta description
- `url=CAT_URI` – [Строка] - URI (Человеко Понятный Урл) категории
- `pos=POS` – [Число] - Позиция категории в списке категорий
- `cat_img=IMG_PATH` – [Строка] - путь к файлу на сервере из которого отсылается API-запрос
- `view_groups=ID_LIST` – [Строка] - список, через запятую, ID групп которые будут иметь доступ к категории
- `add_groups=ID_LIST` – [Строка] - список, через запятую, ID групп которые будут иметь возможность добавлять материалы в категорию
- `exclude_from_discount=[0|1]` – [Число] - отключает/включает для категории признак «Исключить из скидок»
- `yml_name=NAME` – [Строка] - Название категории для Яндекс.Маркета ()
- `yml_fee=FEE` – [Строка] - Размер комиссии на товарное предложение ("fee") для Яндекс.Маркета
- `yml_is_adult=[0|1]` – [Число] - отключает/включает атрибут «Категория с товарами adult-секции»
- `yml_is_delivery=[0|1]` – [Число] - отключает/включает атрибут «Товары категории доставляются курьерской доставкой»
- `yml_is_pickup=[0|1]` – [Число] - отключает/включает атрибут «Самовывоз товаров категории из пунктов выдачи»
- `yml_is_store=[0|1]` – [Число] - отключает/включает атрибут «Товары категории можно купить в розничном магазине»
- `yml_name=NAME` – [Строка] - Название категории для Яндекс.Маркета ()

Пример ответа:

    {
       "success":{
          "msg":"Категория успешно изменена",
          "cat_data":{
    		  "id":"2532",
    		  "view_groups":"",
    		  "url":"cat_name-1",
    		  "cat_img":"http://yoursite.ucoz.ru/.s/img/sh/nfp.png",
    		  "name":"Новое название категории",
    		  "add_groups":"",
    		  "pos":"20",
    		  "pid":"0",
    		  "global_cat":"0"		 
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': "Категория успешно изменена", 'cat_data': CATEGORY_DATA } }


Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `id` – ID созданной категории
    - `pid` – ID родительской категории
    - `global_cat` – ID категории группы товаров
    - `name` – название категории
    - `url` – URI категории
    - `cat_img` – полная ссылка на изображение категории
    - `pos` – позиция категории в списке категорий
    - `view_groups` – список, через двоеточие, ID групп которые имеют доступ к категории
    - `add_groups` – список, через двоеточие, ID групп которые имеют возможность добавлять материалы в категорию

#### [POST] Добавление/Изменение/Удаление изображения категории

> Обязательные параметры: `mode=img`, `id=CAT_ID`, `cat_img=IMG_PATH`, `del=1`

- `del=1` - [Число] - флаг, указывающий, что нужно удалить изображение. Не учитывается, если указан параметр `cat_img`.

Пример запроса:

    $response = $request->post('/shop/edit_cat', array(
    	'mode' => 'img',
    	'id' => 2532,
    	'cat_img' => '@1.jpg'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Изображение изменено",
          "cat_data":{
    		  "id":"2532",
    		  "view_groups":"",
    		  "url":"cat_name-1",
    		  "cat_img":"http://yoursite.ucoz.ru/_sh/25/2532c.jpg",
    		  "name":"Новое название категории",
    		  "add_groups":"",
    		  "pos":"20",
    		  "pid":"0",
    		  "global_cat":"0"		 
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': "Изображение изменено", 'cat_data': CATEGORY_DATA } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `id` – ID созданной категории
    - `pid` – ID родительской категории
    - `global_cat` – ID категории группы товаров
    - `name` – название категории
    - `url` – URI категории
    - `cat_img` – полная ссылка на изображение категории
    - `pos` – позиция категории в списке категорий
    - `view_groups` – список, через двоеточие, ID групп которые имеют доступ к категории
    - `add_groups` – список, через двоеточие, ID групп которые имеют возможность добавлять материалы в категорию

#### [POST] Отображение / скрытие категории

С помощью данного запроса можно отобразить/скрыть (`mode=show` и `mode=hide` соответственно) категорию с определенным ID.

> Обязательные параметры: `mode=[show|hide]`, `id=CAT_ID`

Пример запроса:

    $response = $request->post('/shop/edit_cat', array(
    	'mode' => 'hide',
    	'id' => 2532,
    ));

Пример ответа:

    {
       "success":{
          "msg":"Категория успешно изменена",
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': "Категория успешно изменена", } }

<a name="module-shop-basket"></a>
### Корзина магазина

#### [GET] Получить содержимое корзины

Показывает весь текущий список товаров, которые находятся в вашей корзине.

> Обязательные параметры: отсутствуют

Пример запроса:

    $response = $request->get('/shop/basket/', array(
       // без параметров
    ));

Дополнительные параметры запроса:

- `user_id=USER_ID` – [Число] - ID пользователя. Если указано, то будет возвращено информацию о корзине указанного пользователя. **Учитывается, только если пользователь, от имени которого делается запрос, имеет права администратора.**

Пример ответа:

    {
       "success":{
          "basket":{
             "info":"",
             "weight":"",
             "items_count":1,
             "goods_count":1,
             "discount":0,
             "total":60,
             "items":[
                {
                   "entry_is_in_discount":1,
                   "entry_art_no":"",
                   "over":{
                      "summ_raw":"0.00",
                      "summ":0
                   },
                   "entry_is_in_wishlist":0,
                   "entry_options":"",
                   "entry_weight":{
                      "weight":0,
                      "weight_raw":0
                   },
                   "entry_add_user":"uAPI",
                   "entry_unit":"шт.",
                   "entry_add_uid":"7",
                   "entry_id":"4",
                   "id":"7",
                   "entry_cat_id":"5",
                   "entry_price_vat":{
                      "price_raw":0,
                      "price":0
                   },
                   "entry_price":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_price_in":{
                      "price_raw":"50.00",
                      "price":"50.00$"
                   },
                   "entry_price_vat_eval":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_brand":"",
                   "entry_others":{
                      "other3":"",
                      "other2":"",
                      "other1":""
                   },
                   "entry_hgu":"gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_shop_url":"http://yoursite.ucoz.ru/shop/4/desc/gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_type":"0",
                   "cnt":"1",
                   "summ":{
                      "summ_raw":60,
                      "summ":"60.00$"
                   },
                   "entry_title":"Геймпад для смартфонов и планшетов iControlpad",
                   "entry_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/4s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/4.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/4m.jpg"
                   },
                   "entry_warr":""
                }
             ]
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { BASKET_DATA } }

Расшифровка ответа:

- `BASKET_DATA` - секция с данными корзины. Содержит следующие поля:
    - `info` – дополнительная информация по корзине (предупреждения, предложения)
    - `weight` – суммарный вес всех товаров в корзине
    - `items_count` – количество товарных позиций в корзине
    - `goods_count` – количество товаров в корзине
    - `discount` – суммарная скидка по корзине
    - `total` – суммарная стоимость корзины (в у.е. магазина)
    - `items` – ITEMS - секция с данными по товарам корзины. ID подсекции - порядковый номер товарной позиции в корзине.
- `ITEMS` - секция с данными по товарам корзины. Содержит следующие поля:
    - `id`  – ID записи товарной позиции
    - `entry_id` – ID товара
    - `entry_title` – наименова товара
    - `entry_cat_id` – ID категории товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара.
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `over` – наценка по товару с учетом всех выбранных опций
    - `cnt` – количество единиц товара
    - `summ` – стоимость товара с учетом всех наценок и количества единиц товара
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество елеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – выбранные опции товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар

#### [POST] Добавить в корзину

> Обязательные параметры: `mode=add`, `id=GOODS_ID`

Пример запроса:

    $response = $request->get('/shop/basket/', array(
        'mode' => 'add',
        'id' => 'GOODS_ID'
    ));

Дополнительные параметры запроса:

- `cnt=GOODS_CNT` – [Число] – количество единиц товара (значение по умолчанию 1)
- `opt=OPTIONS` – [Строка] – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...,` где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
- `now=1` – [Число] – признак, указывающий что нужно сделать операцию «Купить сейчас»

Пример ответа:

    {
       "success":{
          "msg":"Товар успешно добавлен в корзину",
          "basket":{
             "info":"",
             "weight":"",
             "items_count":2,
             "goods_count":2,
             "discount":0,
             "total":60,
             "items":[
                {
                   "entry_is_in_discount":1,
                   "entry_art_no":"",
                   "over":{
                      "summ_raw":"0.00",
                      "summ":0
                   },
                   "entry_is_in_wishlist":0,
                   "entry_options":"",
                   "entry_weight":{
                      "weight":0,
                      "weight_raw":0
                   },
                   "entry_add_user":"uAPI",
                   "entry_unit":"шт.",
                   "entry_add_uid":"7",
                   "entry_id":"4",
                   "id":"7",
                   "entry_cat_id":"5",
                   "entry_price_vat":{
                      "price_raw":0,
                      "price":0
                   },
                   "entry_price":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_price_in":{
                      "price_raw":"50.00",
                      "price":"50.00$"
                   },
                   "entry_price_vat_eval":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_brand":"",
                   "entry_others":{
                      "other3":"",
                      "other2":"",
                      "other1":""
                   },
                   "entry_hgu":"gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_shop_url":"http://yoursite.ucoz.ru/shop/4/desc/gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_type":"0",
                   "cnt":"1",
                   "summ":{
                      "summ_raw":60,
                      "summ":"60.00$"
                   },
                   "entry_title":"Геймпад для смартфонов и планшетов iControlpad",
                   "entry_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/4s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/4.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/4m.jpg"
                   },
                   "entry_warr":""
                },
                {
                   "entry_is_in_discount":1,
                   "entry_art_no":"",
                   "over":{
                      "summ_raw":0,
                      "summ":0
                   },
                   "entry_is_in_wishlist":0,
                   "entry_options":"",
                   "entry_weight":{
                      "weight":0,
                      "weight_raw":0
                   },
                   "entry_add_user":"Dmitry_DM",
                   "entry_unit":"шт.",
                   "entry_add_uid":"1",
                   "entry_id":"49",
                   "id":"8",
                   "entry_cat_id":"1",
                   "entry_price_vat":{
                      "price_raw":0,
                      "price":0
                   },
                   "entry_price":{
                      "price_raw":0,
                      "price":"0.00$"
                   },
                   "entry_price_in":{
                      "price_raw":"0.00",
                      "price":"0.00$"
                   },
                   "entry_price_vat_eval":{
                      "price_raw":0,
                      "price":0
                   },
                   "entry_brand":"",
                   "entry_others":{
                      "other3":"",
                      "other2":"",
                      "other1":""
                   },
                   "entry_hgu":"fsdfsdf",
                   "entry_shop_url":"http://yoursite.ucoz.ru/shop/49/desc/fsdfsdf",
                   "entry_type":"0",
                   "cnt":"1",
                   "summ":{
                      "summ_raw":0,
                      "summ":0
                   },
                   "entry_title":"fsdfsdf",
                   "entry_photo":{
                      "small":"http://yoursite.ucoz.ruhttp://s4.ucoz.net/img/sh/nfs.png",
                      "photo":"http://yoursite.ucoz.ruhttp://s4.ucoz.net/img/sh/nf.png",
                      "thumb":"http://yoursite.ucoz.ruhttp://s4.ucoz.net/img/sh/nf.png"
                   },
                   "entry_warr":""
                }
             ]
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Товар успешно добавлен в корзину", BASKET_DATA } }

Расшифровка ответа:

- `BASKET_DATA` - секция с данными корзины. Содержит следующие поля:
    - `info` – дополнительная информация по корзине (предупреждения, предложения)
    - `weight` – суммарный вес всех товаров в корзине
    - `items_count` – количество товарных позиций в корзине
    - `goods_count` – количество товаров в корзине
    - `discount` – суммарная скидка по корзине
    - `total` – суммарная стоимость корзины (в у.е. магазина)
    - `items` – ITEMS - секция с данными по товарам корзины. ID подсекции - порядковый номер товарной позиции в корзине.
- `ITEMS` - секция с данными по товарам корзины. Содержит следующие поля:
    - `id` – ID записи товарной позиции
    - `entry_id` – ID товара
    - `entry_title` – наименова товара
    - `entry_cat_id` – ID категории товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара.
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `over` – наценка по товару с учетом всех выбранных опций
    - `cnt` – количество единиц товара
    - `summ` – стоимость товара с учетом всех наценок и количества единиц товара
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество елеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – выбранные опции товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар

#### [DELETE] Удалить товар из корзины

Удалить товар из корзины. Если не указать параметр `id` – произойдет очистка корзины.

> Обязательные параметры: отсутствуют

Пример запроса:

    $response = $request->delete('/shop/basket/', array(
        'id' => 'GOODS_ID'
    ));

Дополнительные параметры запроса:

- `id=RECORD_ID` – [Число] - ID записи товарной позиции в корзине, которую нужно удалить. **Если параметр не указан, то будет выполнена очистка корзины**

Пример ответа:

    // в процессе получения

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Товар успешно удален из корзины", BASKET_DATA } }

Расшифровка ответа:

- `BASKET_DATA` - секция с данными корзины. Содержит следующие поля:
    - `info` – дополнительная информация по корзине (предупреждения, предложения)
    - `weight` – суммарный вес всех товаров в корзине
    - `items_count` – количество товарных позиций в корзине
    - `goods_count` – количество товаров в корзине
    - `discount` – суммарная скидка по корзине
    - `total` – суммарная стоимость корзины (в у.е. магазина)
    - `items` – ITEMS - секция с данными по товарам корзины. ID подсекции - порядковый номер товарной позиции в корзине.
- `ITEMS` - секция с данными по товарам корзины. Содержит следующие поля:
    - `id` – ID записи товарной позиции
    - `entry_id` – ID товара
    - `entry_title` – наименова товара
    - `entry_cat_id` – ID категории товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара.
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `over` – наценка по товару с учетом всех выбранных опций
    - `cnt` – количество единиц товара
    - `summ` – стоимость товара с учетом всех наценок и количества единиц товара
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество елеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – выбранные опции товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар

#### [PUT] Изменение количества товара в корзине

> Обязательные параметры: `mode=put`, `id=RECORD_ID`

- `id=RECORD_ID` - [Число] - ID записи товарной позиции в корзине, по которой нужно изменить данные

Пример запроса:

    $response = $request->put('/shop/basket/', array(
    	'mode'=>'put',
    	'id'=>7,
    	'cnt'=>3
    ));

Дополнительные параметры запроса:

- `cnt=GOODS_CNT` – [Число] – количество единиц товара (значение по умолчанию 1)
- `opt=OPTIONS` – [Строка] – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...,` где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
- `now=1` – [Число] – признак, указывающий что нужно сделать операцию «Купить сейчас»

Пример ответа:

    {
     "success":{
    		"msg":"Количество успешно изменено"
          "basket":{
             "info":"",
             "weight":"",
             "items_count":1,
             "goods_count":3,
             "discount":0,
             "total":180,
             "items":[
                {
                   "entry_is_in_discount":1,
                   "entry_art_no":"",
                   "over":{
                      "summ_raw":"0.00",
                      "summ":0
                   },
                   "entry_is_in_wishlist":0,
                   "entry_options":"",
                   "entry_weight":{
                      "weight":0,
                      "weight_raw":0
                   },
                   "entry_add_user":"uAPI",
                   "entry_unit":"шт.",
                   "entry_add_uid":"7",
                   "entry_id":"4",
                   "id":"7",
                   "entry_cat_id":"5",
                   "entry_price_vat":{
                      "price_raw":0,
                      "price":0
                   },
                   "entry_price":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_price_in":{
                      "price_raw":"50.00",
                      "price":"50.00$"
                   },
                   "entry_price_vat_eval":{
                      "price_raw":60,
                      "price":"60.00$"
                   },
                   "entry_brand":"",
                   "entry_others":{
                      "other3":"",
                      "other2":"",
                      "other1":""
                   },
                   "entry_hgu":"gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_shop_url":"http://yoursite.ucoz.ru/shop/4/desc/gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                   "entry_type":"0",
                   "cnt":"3",
                   "summ":{
                      "summ_raw":60,
                      "summ":"60.00$"
                   },
                   "entry_title":"Геймпад для смартфонов и планшетов iControlpad",
                   "entry_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/4s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/4.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/4m.jpg"
                   },
                   "entry_warr":""
                }
             ]
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Количество успешно изменено", BASKET_DATA } }

Расшифровка ответа:

- `BASKET_DATA` - секция с данными корзины. Содержит следующие поля:
    - `info` – дополнительная информация по корзине (предупреждения, предложения)
    - `weight` – суммарный вес всех товаров в корзине
    - `items_count` – количество товарных позиций в корзине
    - `goods_count` – количество товаров в корзине
    - `discount` – суммарная скидка по корзине
    - `total` – суммарная стоимость корзины (в у.е. магазина)
    - `items` – ITEMS - секция с данными по товарам корзины. ID подсекции - порядковый номер товарной позиции в корзине.
- `ITEMS` - секция с данными по товарам корзины. Содержит следующие поля:
    - `id` – ID записи товарной позиции
    - `entry_id` – ID товара
    - `entry_title` – наименова товара
    - `entry_cat_id` – ID категории товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара.
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `over` – наценка по товару с учетом всех выбранных опций
    - `cnt` – количество единиц товара
    - `summ` – стоимость товара с учетом всех наценок и количества единиц товара
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество елеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – выбранные опции товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар

<a name="module-shop-goods"></a>
### Товары магазина

#### [GET] Список всех товаров

> Обязательные параметры: `page=allgoods`

- `page=allgoods` имитирует работу веб-страницы /shop/all, то есть выдает все товары. Все отдаваемые товары разделены постранично и содержат максимально полную информацию

Пример запроса:

    $response = $request->get('/shop/request', array(
        'page' => 'allgoods'
    ));

Дополнительные параметры запроса:

- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Возможные значения:
    - `id` – по ID
    - `art` – по артикулу
    - `brand` – по производителю
    - `name` – по названию (значение по умолчанию)
    - `price` – по цене
    - `warr` – по гарантии
    - `weight` – по весу
    - `added_time` – по дате добавления товара
    - `modified_time` – по дате изменения товара
    - `num_com` – по количеству комментариев
    - `rating` – по рейтингу
    - `ordered` – по количеству оформлений в заказах
    - `views` – по количеству просмотров
    - `solds` – по количеству продаж
    - `other#` – по дополнительному полю 1-9
- `order=SORT_MODE` – [Строка] – режим сортировки. Возможные значения:
    - `asc` – по возрастанию (значение по умолчанию)
    - `desc` – по убыванию
- `f_art=BASE64_ARTICULE` – [Строка] – Фильтр по артикулу (значение должно быть в Base64) *
- `f_brand=BASE64_BRAND` – [Строка] – Фильтр по производителю (значение должно быть в Base64) *
- `f_name=BASE64_NAME` – [Строка] – Фильтр по названию (значение должно быть в Base64) *
- `f_warr=BASE64_WARR` – [Строка] – Фильтр по гарантии (значение должно быть в Base64) *
- `f_weight=BASE64_WEIGHT` – [Строка] – Фильтр по весу (значение должно быть в Base64) *
- `f_stock=BASE64_STOCK` – [Строка] – Фильтр по остатку (значение должно быть в Base64) *
- `f_status=BASE64_STATUS` – [Строка] – Фильтр по статусу (значение должно быть в Base64) *
- `f_price=BASE64_PRICE` – [Строка] – Фильтр по по цене (значение должно быть в Base64. В качестве базовой строки для формирования Base64-значения должна браться строка формата '<МИН_ЦЕНА>|<МАКС_ЦЕНА>|<КОД_ВАЛЮТЫ>') *
- `f_other#=BASE64_OTHER` – [Строка] – фильтр по дополнительному полю 1-9 (значение должно быть в Base64) *
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)

> **\* Учитываются только те фильтры, которые разрешены в настройках магазина**

Пример ответа:

    {
       "success":{
          "sort":{
             "sort":"added_time",
             "order":"desc",
             "slist":[
                {
                   "name":"Наименование",
                   "field":"name"
                },
                {
                   "name":"Цена",
                   "field":"price"
                },
                {
                   "name":"Дата добавления",
                   "field":"added_time"
                }
             ]
          },
          "duplicate":0,
          "meta_data":{
             "META_DESCRIPTION":"Все товары. Фон рабочего стола uCoz, Красивый UIN",
             "META_TITLE":""
          },
          "goods_list":{
             "1":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":3
                },
                "entry_brief":"Если вам нужен красивый и запоминающийся UIN, этот товар для Вас.\r Данный товар имеет тип \"Электронный код\". Это означает, что пользователь после оплаты получит код, указанный при создании товара. Один код может быть куплен один раз.",
                "entry_price_old":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_unit":"шт.",
                "entry_id":"1",
                "entry_solds":"0",
                "entry_modified_time":{
                   "mod_wday":"Четверг",
                   "mod_date":"05.04.2012",
                   "mod_time":"12:13"
                },
                "entry_cats":{
                   "cats":[
                      {
                         "url":"digital-goods",
                         "name":"Цифровые товары",
                         "id":"1"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_description":"Если вам нужен красивый и запоминающийся UIN, этот товар для Вас.\nДанный товар имеет тип \"Электронный код\". Это означает, что пользователь после оплаты получит код, указанный при создании товара. Один код может быть куплен один раз.",
                "entry_price_in":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_price_vat_eval":{
                   "price_raw":10,
                   "price":"$10.00"
                },
                "entry_views":"1",
                "num_com":"0",
                "entry_title":"Красивый UIN",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"",
                "entry_added_time":{
                   "add_date":"05.04.2012",
                   "add_time":"12:13",
                   "add_wday":"Четверг"
                },
                "entry_art_no":"",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"0",
                   "purl":null,
                   "url":"digital-goods",
                   "pname":"",
                   "name":"Цифровые товары",
                   "id":"1"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":3,
                "entry_price":{
                   "price_raw":10,
                   "price":"$10.00"
                },
                "entry_brand":"",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"krasivyj-uin",
                "page_id":"allgoods",
                "ordered":"0",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/krasivyj-uin",
                "entry_type":"2",
                "entry_photo":{
                   "num_photos":0,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://s42.ucoz.net/img/sh/nfs.png",
                      "photo":"http://s42.ucoz.net/img/sh/nf.png",
                      "thumb":"http://s42.ucoz.net/img/sh/nf.png"
                   }
                }
             },
             "0":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":""
                },
                "entry_brief":"Не раздражающий глаза фон с иcпользованием логотипа uCoz. Товар является файлом. Пользователь получит ссылку на скачивание файла после оплаты. Ссылка перестанет быть доступна после скачивания.",
                "entry_price_old":{
                   "price_raw":5,
                   "price":"$5.00"
                },
                "entry_unit":"шт.",
                "entry_id":"2",
                "entry_solds":"0",
                "entry_modified_time":{
                   "mod_wday":"Четверг",
                   "mod_date":"05.04.2012",
                   "mod_time":"12:19"
                },
                "entry_cats":{
                   "cats":[
                      {
                         "url":"digital-goods",
                         "name":"Цифровые товары",
                         "id":"1"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_description":"Не раздражающий глаза фон с ипользованием логотипа uCoz. Товар является файлом. Пользователь получит ссылку на скачивание файла после оплаты. Ссылка перестанет быть доступна после скачивания.",
                "entry_price_in":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_price_vat_eval":{
                   "price_raw":2,
                   "price":"$2.00"
                },
                "entry_views":"1",
                "num_com":"0",
                "entry_title":"Фон рабочего стола uCoz",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"",
                "entry_added_time":{
                   "add_date":"05.04.2012",
                   "add_time":"12:19",
                   "add_wday":"Четверг"
                },
                "entry_art_no":"",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"0",
                   "purl":null,
                   "url":"digital-goods",
                   "pname":"",
                   "name":"Цифровые товары",
                   "id":"1"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":"20.2Kb",
                "entry_price":{
                   "price_raw":2,
                   "price":"$2.00"
                },
                "entry_brand":"uCoz",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"fon-rabochego-stola-ucoz",
                "page_id":"allgoods",
                "ordered":"0",
                "entry_shop_url":"http://www.dmev.me/shop/2/desc/fon-rabochego-stola-ucoz",
                "entry_type":"1",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://www.dmev.me/_sh/00/2s.jpg",
                      "photo":"http://www.dmev.me/_sh/00/2.jpg",
                      "thumb":"http://www.dmev.me/_sh/00/2m.jpg"
                   }
                }
             }
          },
          "filters":{
             "fdata":{
                "brand":{
                   "uCoz":{
                      "pos":1,
                      "cnt":"1"
                   }
                }
             },
             "filters":{
                "for_uri":""
             }
          },
          "goods_count":"2",
          "paginator":{
             "cur_page":1,
             "num_pages":1
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { CATEGORY_DATA GOODS_LIST } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort` - SORT_DATA – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META-DATA` – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега `<meta name="description" content="..." />`
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – оличество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – екция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `ENTRY_OPTIONS` – секция с опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Содержит поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` –  признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара
- `ENTRY_RATING` – секция с данными по рейтингу товара. Содержит поля:
    - `rating` – рейтинг материала
    - `rated` – количество голосов
    - `rating_num` – оценка материала (целое число)
    - `rating_num_float` – оценка материала (дробное число)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [GET] Мои желания (товары)

> Обязательные параметры: `page=wishlist`

- `page=wishlist` имитирует работу веб-страницы /shop/wishlist, то есть отдают все товары, где вы нажали на кнопку "Добавить в список желаний". Все отдаваевымые товары разделены постранично и содержат максильно полную информацию

Пример запроса:

    $response = $request->get('/shop/request', array(
        'page' => 'wishlist'
    ));

Дополнительные параметры запроса:

- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Возможные значения:
    - `id` – по ID
    - `art` – по артикулу
    - `brand` – по производителю
    - `name` – по названию (значение по умолчанию)
    - `price` – по цене
    - `warr` – по гарантии
    - `weight` – по весу
    - `added_time` – по дате добавления товара
    - `modified_time` – по дате изменения товара
    - `num_com` – по количеству комментариев
    - `rating` – по рейтингу
    - `ordered` – по количеству оформлений в заказах
    - `views` – по количеству просмотров
    - `solds` – по количеству продаж
    - `other#` – по дополнительному полю 1-9
- `order=SORT_MODE` – [Строка] – режим сортировки. Возможные значения:
    - `asc` – по возрастанию (значение по умолчанию)
    - `desc` – по убыванию
- `f_art=BASE64_ARTICULE` – [Строка] – Фильтр по артикулу (значение должно быть в Base64) *
- `f_brand=BASE64_BRAND` – [Строка] – Фильтр по производителю (значение должно быть в Base64) *
- `f_name=BASE64_NAME` – [Строка] – Фильтр по названию (значение должно быть в Base64) *
- `f_warr=BASE64_WARR` – [Строка] – Фильтр по гарантии (значение должно быть в Base64) *
- `f_weight=BASE64_WEIGHT` – [Строка] – Фильтр по весу (значение должно быть в Base64) *
- `f_stock=BASE64_STOCK` – [Строка] – Фильтр по остатку (значение должно быть в Base64) *
- `f_status=BASE64_STATUS` – [Строка] – Фильтр по статусу (значение должно быть в Base64) *
- `f_price=BASE64_PRICE` – [Строка] – Фильтр по по цене (значение должно быть в Base64. В качестве базовой строки для формирования Base64-значения должна браться строка формата '<МИН_ЦЕНА>|<МАКС_ЦЕНА>|<КОД_ВАЛЮТЫ>') *
- `f_other#=BASE64_OTHER` – [Строка] – фильтр по дополнительному полю 1-9 (значение должно быть в Base64) *
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)

> **\* Учитываются только те фильтры, которые разрешены в настройках магазина**

Пример ответа:

    {
       "success":{
          "sort":{
             "sort":"added_time",
             "order":"desc",
             "slist":[
                {
                   "name":"Наименование",
                   "field":"name"
                },
                {
                   "name":"Цена",
                   "field":"price"
                },
                {
                   "name":"Дата добавления",
                   "field":"added_time"
                }
             ]
          },
          "duplicate":0,
          "meta_data":{
             "META_DESCRIPTION":"Товары uAPI. Новые очки от Recon Transcend",
             "META_TITLE":""
          },
          "goods_list":{
             "0":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":"300.00",
                   "weight_raw":"300.0000"
                },
                "entry_stock":{
                   "stock_total":"10",
                   "stock":"10"
                },
                "entry_brief":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения. Очки отображают в реальном времени скорость, высоту, общее...",
                "entry_price_old":{
                   "price_raw":340,
                   "price":"340.00$"
                },
                "entry_unit":"Размер",
                "entry_id":"5",
                "entry_solds":"0",
                "entry_modified_time":"1333614702",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/sport",
                         "name":"Спорт",
                         "id":"6"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"320.00",
                   "price":"320.00$"
                },
                "entry_description":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения.\n\nОчки отображают в реальном времени скорость, высоту, общее расстояние, количество ваших спусков, температуру и время. Ваши данные сохраняются во встроенной памяти, после чего вы можете сбросить их на свой компьютер и посмотреть свои достижения на Google Maps. Очки оснащены различными датчиками, которые фиксируют окружающую информацию. Управление осуществляется с помощью трех больших кнопок. Аккумулятор может работать автономно до 8 часов.\n\n",
                "entry_price_vat_eval":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_views":"3",
                "num_com":"0",
                "entry_title":"Новые очки от Recon Transcend",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"12мес",
                "entry_added_time":"1333614645",
                "entry_art_no":"32165468-6898",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/sport",
                   "pname":"Гаджеты",
                   "name":"Спорт",
                   "id":"6"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_ordered":"0",
                "entry_brand":"Transcend",
                "entry_others":{
                   "other3":"ЗУ в комплект не входит",
                   "other2":"Не бьются",
                   "other1":"20x20x20"
                },
                "entry_hgu":"sport-glasses",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/5/desc/sport-glasses",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/5s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/5.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/5m.jpg"
                   }
                }
             }
          },
          "filters":{
             "fdata":{
                "brand":{
                   "Transcend":{
                      "pos":1,
                      "cnt":"1"
                   }
                }
             },
             "filters":{
                "for_uri":""
             }
          },
          "goods_count":"1",
          "paginator":{
             "cur_page":1,
             "num_pages":1
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { CATEGORY_DATA GOODS_LIST } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort` - SORT_DATA – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META-DATA` – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега `<meta name="description" content="..." />`
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – количество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [GET] Товары категории

Получение всех товаров категории. Имитация перехода на страницу категории в веб-версии, где выводятся все товары этой выбранной категории.

> Обязательные параметры: `cat_uri=CATURI`

Пример запроса:

    $response = $request->get('/shop/cat', array(
        'cat_uri' => 'gadjets'
    ));

Дополнительные параметры запроса:

- `cat_id=CATEGORY_ID` – [Число] - id категории - учитывается, если не указан обязательный параметр cat_uri
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Возможные значения:
    - `id` – по ID
    - `art` – по артикулу
    - `brand` – по производителю
    - `name` – по названию (значение по умолчанию)
    - `price` – по цене
    - `warr` – по гарантии
    - `weight` – по весу
    - `added_time` – по дате добавления товара
    - `modified_time` – по дате изменения товара
    - `num_com` – по количеству комментариев
    - `rating` – по рейтингу
    - `ordered` – по количеству оформлений в заказах
    - `views` – по количеству просмотров
    - `solds` – по количеству продаж
    - `other#` – по дополнительному полю 1-9
- `order=SORT_MODE` – [Строка] – режим сортировки. Возможные значения:
    - `asc` – по возрастанию (значение по умолчанию)
    - `desc` – по убыванию
- `f_art=BASE64_ARTICULE` – [Строка] – Фильтр по артикулу (значение должно быть в Base64) *
- `f_brand=BASE64_BRAND` – [Строка] – Фильтр по производителю (значение должно быть в Base64) *
- `f_name=BASE64_NAME` – [Строка] – Фильтр по названию (значение должно быть в Base64) *
- `f_warr=BASE64_WARR` – [Строка] – Фильтр по гарантии (значение должно быть в Base64) *
- `f_weight=BASE64_WEIGHT` – [Строка] – Фильтр по весу (значение должно быть в Base64) *
- `f_stock=NUMBER` – [Число] – Фильтр по остатку *
- `f_status=STATUS` – [Строка] – Фильтр по статусу. Возможные значения:
    - `0` - все товары (значение по умолчанию);
    - `1` - активные товары;
    - `2` - скрытые товары;
- `f_price=BASE64_PRICE` – [Строка] – Фильтр по по цене (значение должно быть в Base64. В качестве базовой строки для формирования Base64-значения должна браться строка формата '<МИН_ЦЕНА>|<МАКС_ЦЕНА>|<КОД_ВАЛЮТЫ>') *
- `f_other#=BASE64_OTHER` – [Строка] – фильтр по дополнительному полю 1-9 (значение должно быть в Base64) *
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)

> **\* Учитываются только те фильтры, которые разрешены в настройках магазина**

Пример ответа:

    {
       "success":{
          "cat_id":"2",
          "parent_cat":"",
          "cat_descr":"Необычные товары. Категория содержит подкатегории",
          "filters":{
             "fdata":{
                "brand":{
                   "Transcend":{
                      "pos":1,
                      "cnt":"1"
                   }
                }
             },
             "filters":{
                "for_uri":""
             }
          },
          "goods_count":"3",
          "cat_img":"http://yoursite.ucoz.ru/_sh/00/2c.png",
          "paginator":{
             "cur_page":1,
             "num_pages":1
          },
          "cat_name":"Гаджеты",
          "sort":{
             "sort":"name",
             "order":"asc",
             "slist":[
                {
                   "name":"Наименование",
                   "field":"name"
                },
                {
                   "name":"Цена",
                   "field":"price"
                },
                {
                   "name":"Дата добавления",
                   "field":"added_time"
                }
             ]
          },
          "duplicate":0,
          "goods_list":{
             "1":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":"300.00",
                   "weight_raw":"300.0000"
                },
                "entry_stock":{
                   "stock_total":"10",
                   "stock":"10"
                },
                "entry_brief":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения. Очки отображают в реальном времени скорость, высоту, общее...",
                "entry_price_old":{
                   "price_raw":340,
                   "price":"340.00$"
                },
                "entry_unit":"Размер",
                "entry_id":"5",
                "entry_solds":"0",
                "entry_modified_time":"1333614702",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/sport",
                         "name":"Спорт",
                         "id":"6"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"320.00",
                   "price":"320.00$"
                },
                "entry_description":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения.\n\nОчки отображают в реальном времени скорость, высоту, общее расстояние, количество ваших спусков, температуру и время. Ваши данные сохраняются во встроенной памяти, после чего вы можете сбросить их на свой компьютер и посмотреть свои достижения на Google Maps. Очки оснащены различными датчиками, которые фиксируют окружающую информацию. Управление осуществляется с помощью трех больших кнопок. Аккумулятор может работать автономно до 8 часов.\n\n",
                "entry_price_vat_eval":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_views":"6",
                "num_com":"0",
                "entry_title":"Новые очки от Recon Transcend",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"12мес",
                "entry_added_time":"1333614645",
                "entry_art_no":"32165468-6898",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/sport",
                   "pname":"Гаджеты",
                   "name":"Спорт",
                   "id":"6"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_ordered":"1",
                "entry_brand":"Transcend",
                "entry_others":{
                   "other3":"ЗУ в комплект не входит",
                   "other2":"Не бьются",
                   "other1":"20x20x20"
                },
                "entry_hgu":"sport-glasses",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/5/desc/sport-glasses",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/5s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/5.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/5m.jpg"
                   }
                }
             },
             "0":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":""
                },
                "entry_brief":"Материальный товар. В описании содержится видео",
                "entry_price_old":{
                   "price_raw":80,
                   "price":"80.00$"
                },
                "entry_unit":"шт.",
                "entry_id":"4",
                "entry_solds":"0",
                "entry_modified_time":"1456269049",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/games",
                         "name":"Игры",
                         "id":"5"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"50.00",
                   "price":"50.00$"
                },
                "entry_description":"Геймпад для смартфонов и планшетов iControlpad совместим с любыми устройствами, поддерживающими bluetooth (включая компьютеры и игровые консоли). Универсальный холдер может подсоединиться к любому смартфону.  Геймпад протестирован на iPhone, iPod Touch, Blackberry Torch, Galaxy 2, Galaxy 2S, HTC Desire HD, Nokia N8, Nexus One и т.д.  Геймпад для смартфонов и планшетов iControlpad превращает смартфон в портативную игровую приставку. Оснащен двумя аналоговыми джойстиками, цифровыми стрелками. Имеет 8 кнопок, эмулирует игры с 8 платформ.  Встроенный аккумулятор 1350мА может подзарядить аккумулятор смартфона через USB.  ",
                "entry_price_vat_eval":{
                   "price_raw":60,
                   "price":"60.00$"
                },
                "entry_views":"7",
                "num_com":"0",
                "entry_title":"Геймпад для смартфонов и планшетов iControlpad",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"",
                "entry_added_time":"1333614409",
                "entry_art_no":"",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":4,
                   "rating_num":"4",
                   "rated":"1",
                   "rating":"4.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/games",
                   "pname":"Гаджеты",
                   "name":"Игры",
                   "id":"5"
                },
                "entry_add_user":"uAPI",
                "entry_add_uid":"7",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":60,
                   "price":"60.00$"
                },
                "entry_ordered":"0",
                "entry_brand":"",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/4/desc/gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/4s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/4.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/4m.jpg"
                   }
                }
             },
             "2":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":""
                },
                "entry_brief":"Перчатки Burton Mix Master – это просто мечта для настоящего любителя сноубординга. Эти перчатки легко гнутся там, где должны гнуться, обладают немалым запасом прочности, отлично дышат, но в то же время активно сберегают тепло. Да, кстати, внутри их на...",
                "entry_price_old":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_unit":"шт.",
                "entry_id":"6",
                "entry_solds":"0",
                "entry_modified_time":"1333614812",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/sport",
                         "name":"Спорт",
                         "id":"6"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_description":"Перчатки Burton Mix Master – это просто мечта для настоящего любителя сноубординга. Эти перчатки легко гнутся там, где должны гнуться, обладают немалым запасом прочности, отлично дышат, но в то же время активно сберегают тепло. Да, кстати, внутри их находится и легендарная мембрана Dryride, благодаря которой руки практически не потеют.",
                "entry_price_vat_eval":{
                   "price_raw":160,
                   "price":"160.00$"
                },
                "entry_views":"4",
                "num_com":"0",
                "entry_title":"Перчатки Burton Mix Master",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"",
                "entry_added_time":"1333614765",
                "entry_art_no":"",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/sport",
                   "pname":"Гаджеты",
                   "name":"Спорт",
                   "id":"6"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":160,
                   "price":"160.00$"
                },
                "entry_ordered":"0",
                "entry_brand":"",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"perchatki-burton-mix-master",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/6/desc/perchatki-burton-mix-master",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":16,
                   "others_photo":{
                      "6":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_6.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_6.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_6.jpg"
                      },
                      "11":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_11.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_11.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_11.jpg"
                      },
                      "3":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_3.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_3.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_3.jpg"
                      },
                      "7":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_7.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_7.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_7.jpg"
                      },
                      "9":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_9.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_9.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_9.jpg"
                      },
                      "12":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_12.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_12.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_12.jpg"
                      },
                      "2":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_2.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_2.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_2.jpg"
                      },
                      "15":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_15.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_15.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_15.jpg"
                      },
                      "14":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_14.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_14.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_14.jpg"
                      },
                      "8":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_8.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_8.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_8.jpg"
                      },
                      "1":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_1.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_1.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_1.jpg"
                      },
                      "4":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_4.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_4.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_4.jpg"
                      },
                      "13":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_13.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_13.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_13.jpg"
                      },
                      "10":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_10.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_10.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_10.jpg"
                      },
                      "5":{
                         "small":"http://yoursite.ucoz.ru/_sh/00/6s_5.jpg",
                         "photo":"http://yoursite.ucoz.ru/_sh/00/6_5.jpg",
                         "thumb":"http://yoursite.ucoz.ru/_sh/00/6m_5.jpg"
                      }
                   },
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/6s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/6.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/6m.jpg"
                   }
                }
             }
          },
          "meta_data":{
             "META_DESCRIPTION":"Гаджеты Спорт Игры. Необычные товары. Категория содержит подкатегории",
             "META_TITLE":"Гаджеты"
          },
          "cat_url":"gadjets"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { CATEGORY_DATA GOODS_LIST } }

Расшифровка ответа:

- `CATEGORY_DATA` – Секция с данными категории. Содержит поля:
    - `cat_id` – ID категории
    - `parent_cat` – ID родительской категории
    - `cat_name` – название категории
    - `cat_url` – URI категории
    - `cat_img` – URL изображения категории
    - `cat_descr` – описание категории
    - `cur_page` – номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort` - SORT_DATA – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META-DATA` – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега `<meta name="description" content="..." />`
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – количество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – екция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара.Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `ENTRY_OPTIONS` – секция с опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Содержит поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` –  признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара
- `ENTRY_RATING` – секция с данными по рейтингу товара. Содержит поля:
    - `rating` – рейтинг материала
    - `rated` – количество голосов
    - `rating_num` – оценка материала (целое число)
    - `rating_num_float` – оценка материала (дробное число)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [POST] Добавить/исключить товар из "Мой список желаний"

С помощью запроса можно добавить какой-либо товар в личный список желаний. Для этого используется параметр `goods_id=ID`.

Для очистки желаний (удалить все товары из списка) – используйте параметр `clear=1`.

> Обязательные параметры: `goods_id=ID` или `clear=1`

Пример запроса:

    $response = $request->post('/shop/wishlisth', array(
        'goods_id' => 'ID' //или  'clear' => '1'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Товар добавлен в список желаний",
          "sort":{
             "sort":"added_time",
             "order":"desc",
             "slist":[
                {
                   "name":"Наименование",
                   "field":"name"
                },
                {
                   "name":"Цена",
                   "field":"price"
                },
                {
                   "name":"Дата добавления",
                   "field":"added_time"
                }
             ]
          },
          "duplicate":0,
          "meta_data":{
             "META_DESCRIPTION":"Товары Dmitry_DM. Новые очки от Recon Transcend, newname",
             "META_TITLE":""
          },
          "goods_list":{
             "1":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":""
                },
                "entry_brief":"",
                "entry_price_old":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_unit":"шт.",
                "entry_id":"1",
                "entry_solds":"456",
                "entry_modified_time":"1458510093",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"digital-goods",
                         "name":"Цифровые товары",
                         "id":"1"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_description":"",
                "entry_price_vat_eval":{
                   "price_raw":0,
                   "price":0
                },
                "entry_views":"123",
                "num_com":"1",
                "entry_title":"newname",
                "entry_is_in_basket":0,
                "entry_is_hidden":"1",
                "entry_warr":"",
                "entry_added_time":"1333613619",
                "entry_art_no":"",
                "entry_is_in_wishlist":1,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":10,
                   "rating_num":"10",
                   "rated":"10",
                   "rating":"9.8"
                },
                "entry_cat":{
                   "pid":"0",
                   "purl":null,
                   "url":"digital-goods",
                   "pname":"",
                   "name":"Цифровые товары",
                   "id":"1"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":"0.00",
                   "price":0
                },
                "entry_ordered":"789",
                "entry_brand":"",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"newname",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/newname",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":0,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://s4.ucoz.net/img/sh/nfs.png",
                      "photo":"http://s4.ucoz.net/img/sh/nf.png",
                      "thumb":"http://s4.ucoz.net/img/sh/nf.png"
                   }
                }
             },
             "0":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":"300.00",
                   "weight_raw":"300.0000"
                },
                "entry_stock":{
                   "stock_total":"10",
                   "stock":"10"
                },
                "entry_brief":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения. Очки отображают в реальном времени скорость, высоту, общее...",
                "entry_price_old":{
                   "price_raw":340,
                   "price":"340.00$"
                },
                "entry_unit":"Размер",
                "entry_id":"5",
                "entry_solds":"0",
                "entry_modified_time":"1333614702",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/sport",
                         "name":"Спорт",
                         "id":"6"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"320.00",
                   "price":"320.00$"
                },
                "entry_description":"Кататься по заснеженным склонам в таких очках будет действительно здорово, благодаря встроенному GPS навигатору, датчику скорости, и возможности определить координаты вашего местонахождения.\n\nОчки отображают в реальном времени скорость, высоту, общее расстояние, количество ваших спусков, температуру и время. Ваши данные сохраняются во встроенной памяти, после чего вы можете сбросить их на свой компьютер и посмотреть свои достижения на Google Maps. Очки оснащены различными датчиками, которые фиксируют окружающую информацию. Управление осуществляется с помощью трех больших кнопок. Аккумулятор может работать автономно до 8 часов.\n\n",
                "entry_price_vat_eval":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_views":"6",
                "num_com":"0",
                "entry_title":"Новые очки от Recon Transcend",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"12мес",
                "entry_added_time":"1333614645",
                "entry_art_no":"32165468-6898",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":0,
                   "rating_num":"0",
                   "rated":"0",
                   "rating":"0.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/sport",
                   "pname":"Гаджеты",
                   "name":"Спорт",
                   "id":"6"
                },
                "entry_add_user":"Tom",
                "entry_add_uid":"1",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":500,
                   "price":"500.00$"
                },
                "entry_ordered":"1",
                "entry_brand":"Transcend",
                "entry_others":{
                   "other3":"ЗУ в комплект не входит",
                   "other2":"Не бьются",
                   "other1":"20x20x20"
                },
                "entry_hgu":"sport-glasses",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/5/desc/sport-glasses",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/5s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/5.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/5m.jpg"
                   }
                }
             }
          },
          "filters":{
             "fdata":{
                "brand":{
                   "Transcend":{
                      "pos":1,
                      "cnt":"1"
                   }
                }
             },
             "filters":{
                "for_uri":""
             }
          },
          "goods_count":"2",
          "paginator":{
             "cur_page":1,
             "num_pages":1
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { CATEGORY_DATA GOODS_LIST } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `cat_id` – ID категории
    - `parent_cat` – ID родительской категории
    - `cat_name` – название категории
    - `cat_url` – URI категории
    - `cat_img` – URL изображения категории
    - `cat_descr` – описание категории
    - `cur_page` – номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort` - SORT_DATA – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META-DATA` – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега `<meta name="description" content="..." />`
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – количество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – екция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `ENTRY_OPTIONS` – секция с опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Содержит поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` –  признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара
- `ENTRY_RATING` – секция с данными по рейтингу товара. Содержит поля:
    - `rating` – рейтинг материала
    - `rated` – количество голосов
    - `rating_num` – оценка материала (целое число)
    - `rating_num_float` – оценка материала (дробное число)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [GET] Получить товары пользователя

Запрос имитирует веб-страницу, которая доступна по адресу `/shop/user/[ID]/goods`.

> Обязательные параметры: `page=usergoods` и `user_id`

Пример запроса:

    $response = $request->get('/shop/request', array(
        'page' => 'usergoods',
        'user_id' => '[ID]'
    ));

Дополнительные параметры запроса:

- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Возможные значения:
    - `id` – по ID
    - `art` – по артикулу
    - `brand` – по производителю
    - `name` – по названию (значение по умолчанию)
    - `price` – по цене
    - `warr` – по гарантии
    - `weight` – по весу
    - `added_time` – по дате добавления товара
    - `modified_time` – по дате изменения товара
    - `num_com` – по количеству комментариев
    - `rating` – по рейтингу
    - `ordered` – по количеству оформлений в заказах
    - `views` – по количеству просмотров
    - `solds` – по количеству продаж
    - `other#` – по дополнительному полю 1-9
- `order=SORT_MODE` – [Строка] – режим сортировки. Возможные значения:
    - `asc` – по возрастанию (значение по умолчанию)
    - `desc` – по убыванию
- `f_art=BASE64_ARTICULE` – [Строка] – Фильтр по артикулу (значение должно быть в Base64) *
- `f_brand=BASE64_BRAND` – [Строка] – Фильтр по производителю (значение должно быть в Base64) *
- `f_name=BASE64_NAME` – [Строка] – Фильтр по названию (значение должно быть в Base64) *
- `f_warr=BASE64_WARR` – [Строка] – Фильтр по гарантии (значение должно быть в Base64) *
- `f_weight=BASE64_WEIGHT` – [Строка] – Фильтр по весу (значение должно быть в Base64) *
- `f_stock=NUMBER` – [Число] – Фильтр по остатку (значение должно быть в Base64) *
- `f_status=BASE64_STATUS` – [Строка] – Фильтр по статусу (значение должно быть в Base64) *
- `f_price=BASE64_PRICE` – [Строка] – Фильтр по по цене (значение должно быть в Base64. В качестве базовой строки для формирования Base64-значения должна браться строка формата '<МИН_ЦЕНА>|<МАКС_ЦЕНА>|<КОД_ВАЛЮТЫ>') *
- `f_other#=BASE64_OTHER` – [Строка] – фильтр по дополнительному полю 1-9 (значение должно быть в Base64) *
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)
- `pnum=PAGE_NUM` – [Число] – Номер текущей страницы (значение по умолчанию - 1)

> **\* Учитываются только те фильтры, которые разрешены в настройках магазина**

Пример ответа:

    {
       "success":{
          "sort":{
             "sort":"added_time",
             "order":"desc",
             "slist":[
                {
                   "name":"Наименование",
                   "field":"name"
                },
                {
                   "name":"Цена",
                   "field":"price"
                },
                {
                   "name":"Дата добавления",
                   "field":"added_time"
                }
             ]
          },
          "duplicate":0,
          "meta_data":{
             "META_DESCRIPTION":"Товары uAPI. Геймпад для смартфонов и планшетов iControlpad",
             "META_TITLE":""
          },
          "goods_list":{
             "0":{
                "entry_is_in_discount":1,
                "entry_weight":{
                   "weight":0,
                   "weight_raw":"0.0000"
                },
                "entry_stock":{
                   "stock_total":"0",
                   "stock":""
                },
                "entry_brief":"Материальный товар. В описании содержится видео",
                "entry_price_old":{
                   "price_raw":80,
                   "price":"80.00$"
                },
                "entry_unit":"шт.",
                "entry_id":"4",
                "entry_solds":"0",
                "entry_modified_time":"1456269049",
                "entry_cats":{
                   "cats":[
                      {
                         "url":"gadjets/games",
                         "name":"Игры",
                         "id":"5"
                      }
                   ],
                   "num_cats":1
                },
                "entry_price_vat":{
                   "price_raw":0,
                   "price":0
                },
                "entry_price_in":{
                   "price_raw":"50.00",
                   "price":"50.00$"
                },
                "entry_description":"Геймпад для смартфонов и планшетов iControlpad совместим с любыми устройствами, поддерживающими bluetooth (включая компьютеры и игровые консоли). Универсальный холдер может подсоединиться к любому смартфону.  Геймпад протестирован на iPhone, iPod Touch, Blackberry Torch, Galaxy 2, Galaxy 2S, HTC Desire HD, Nokia N8, Nexus One и т.д.  Геймпад для смартфонов и планшетов iControlpad превращает смартфон в портативную игровую приставку. Оснащен двумя аналоговыми джойстиками, цифровыми стрелками. Имеет 8 кнопок, эмулирует игры с 8 платформ.  Встроенный аккумулятор 1350мА может подзарядить аккумулятор смартфона через USB.  ",
                "entry_price_vat_eval":{
                   "price_raw":60,
                   "price":"60.00$"
                },
                "entry_views":"5",
                "num_com":"0",
                "entry_title":"Геймпад для смартфонов и планшетов iControlpad",
                "entry_is_in_basket":0,
                "entry_is_hidden":"0",
                "entry_warr":"",
                "entry_added_time":"1333614409",
                "entry_art_no":"",
                "entry_is_in_wishlist":0,
                "entry_options":{

                },
                "entry_rating":{
                   "rating_num_float":4,
                   "rating_num":"4",
                   "rated":"1",
                   "rating":"4.0"
                },
                "entry_cat":{
                   "pid":"2",
                   "purl":"gadjets",
                   "url":"gadjets/games",
                   "pname":"Гаджеты",
                   "name":"Игры",
                   "id":"5"
                },
                "entry_add_user":"uAPI",
                "entry_add_uid":"7",
                "entry_file_size":0,
                "entry_price":{
                   "price_raw":60,
                   "price":"60.00$"
                },
                "entry_ordered":"0",
                "entry_brand":"",
                "entry_others":{
                   "other3":"",
                   "other2":"",
                   "other1":""
                },
                "entry_hgu":"gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                "entry_shop_url":"http://yoursite.ucoz.ru/shop/4/desc/gejmpad-dlja-smartfonov-i-planshetov-icontrolpad",
                "entry_type":"0",
                "entry_photo":{
                   "num_photos":1,
                   "others_photo":"",
                   "def_photo":{
                      "small":"http://yoursite.ucoz.ru/_sh/00/4s.jpg",
                      "photo":"http://yoursite.ucoz.ru/_sh/00/4.jpg",
                      "thumb":"http://yoursite.ucoz.ru/_sh/00/4m.jpg"
                   }
                }
             }
          },
          "filters":"",
          "goods_count":"1",
          "paginator":{
             "cur_page":1,
             "num_pages":1
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

Расшифровка ответа:

- `CATEGORY_DATA` – Cекция с данными категории. Содержит поля:
    - `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории
    - `filters` - FILTERS_DATA – секция с данными по фильтрам товаров категории
    - `paginator` – секция с данными по пагинатору выборки. cur_page - номер текущей страницы выборки, заданный параметром pnum. num_pages - количество страниц выборки.
    - `duplicate` – признак, что запрос был отправлен на дублирующуюся по URL страницу (например, /category;0 /category;1)
    - `goods_count` – количество товаров в категории
    - `meta_data` – META-DATA - секция с META-данными категории
- `sort` - SORT_DATA – Cекция с данными по режимах сортировки товаров категории. Содержит поля:
    - `sort` – поле по которому был отсортирован список товаров
    - `order` – использованный режим сортировки
    - `slist` – секция с подписями к полям сортировки. field - поле сортировки. name - подпись к полю
- `FILTERS_DATA` – секция с данными по фильтрам товаров категории. Содержит поля:
    - `fdata` – набор данных по фильтрам (все возможные значения фильтра, мин/макс значение для фильтра по цене, позиция каждого значения фильтра в блоке значений и количество товаров подпадающих под каждое значение фильтра).
    - `filters` – значения примененых фильтров. for_uri - содержит строку с фильтрами, если включена опция «Дублировать фильтры товаров в адресной строке»
- `META-DATA` – секция с META-данными категории. Содержит поля:
    - `meta_title` – содержимое TITLE-тега
    - `meta_description` – содержимое тега <meta name="description" content="..." />
- `GOODS_LIST` – секция со списком товаров категории. Данная секция содержит список подсекций с данными по каждому выбранному товару. ID подсекции - порядковый номер подсекции в списке подсекций. Содержит поля:
    - `entry_id` – ID товара
    - `entry_title` – наименование товара
    - `entry_cat` – ENTRY_CAT - секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `entry_cats` – ENTRY_CATS - секция с дополнительными категориями товара
    - `entry_brand` – значение поля «Производитель»
    - `entry_brief` – краткое описание товара
    - `entry_description` – описание товара
    - `entry_photo` – ENTRY_PHOTO - секция с изображениями товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_type` – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
    - `entry_price` – цена товара
    - `entry_price_in` – входящая цена товара
    - `entry_price_old` – старая цена товара
    - `entry_price_vat` – цена товара с НДС (если в настройках магазина включен расчет НДС)
    - `entry_price_vat_eval` – цена товара без НДС (если в настройках магазина включен расчет НДС)
    - `entry_unit` – значение поля «Единица»
    - `entry_weight` – вес товара
    - `entry_art_no` – значение поля «Артикул»
    - `entry_stock` – остаток товара
    - `entry_warr` – значение поля «Гарантия»
    - `entry_others` – секция со значениями дополнительных полей товара. Количество элеметов секции зависит от количества дополнительных полей товара, установленного в настройках магазина.
    - `entry_options` – ENTRY_OPTIONS - секция с опциями товара
    - `entry_is_in_discount` – признак, что товар включается в расчет скидок
    - `entry_is_hidden` – признак, что товар скрыт
    - `entry_is_in_basket` – признак, что товар добавлен в корзину текущего пользователя
    - `entry_is_in_wishlist` – признак, что товар добавлен в список желаний текущего пользователя
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `num_com` – оличество комментариев товара
    - `entry_file_size` – размер прикрепленного к товару файла
    - `entry_add_uid` – ID пользователя, добавившего товар
    - `entry_add_user` – логин пользователя, добавившего товар
    - `entry_added_time` – время добавления товара
    - `entry_modified_time` – время последнего изменения товара
- `ENTRY_CAT` – екция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
- `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
    - `id` – ID товара
    - `pid` – ID родительской категории
    - `name` – название категории товара
    - `pname` – название родительской категории товара
    - `url` – URI категории относительно корня магазина
    - `purl` – URI родительской категории относительно корня магазина
- `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
    - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
    - `num_cats` – количество дополнительных категорий товара
- `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
    - `num_photos` – количество изображений
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
- `ENTRY_OPTIONS` – секция с опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Содержит поля:
    - `name` – название опции
    - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
    - `use_images` – признак «Использовать изображения»
    - `as_checkbox` – признак «Выводить в виде чекбокса»
    - `as_radio` –  признак «Выводить в виде `radio_buttons`»
    - `check_first` – признак «Выделять первое значение в `radio_buttons`»
    - `pos` – позиция опции в списке опций товара
- `ENTRY_RATING` – секция с данными по рейтингу товара. Содержит поля:
    - `rating` – рейтинг материала
    - `rated` – количество голосов
    - `rating_num` – оценка материала (целое число)
    - `rating_num_float` – оценка материала (дробное число)
- `sort` - SORT_DATA – секция с данными по режимах сортировки товаров категории

#### [GET] Получить параметры товара

С помощью запроса можно добавить какой-либо товар в личный список желаний. Для этого используется параметр `goods_id=ID`.

Для очистки желаний (удалить все товары из списка) – используйте параметр `clear=1`.

> Обязательные параметры: `page=viewgoods`, `id=[ID]`

Пример запроса:

    $response = $request->get('/shop/request', array(
       'page' => 'viewgoods',
       'id' => '[ID]',
    ));

Пример ответа:

    {
       "success":{
          "entry_is_in_discount":1,
          "recommended_products":{
             "present":0,
             "recomm_products":{

             }
          },
          "entry_weight":{
             "weight":"",
             "weight_raw":0
          },
          "entry_stock":{
             "stock_total":"0",
             "stock":""
          },
          "entry_brief":"Перчатки Burton Mix Master – это просто мечта для настоящего любителя сноубординга. Эти перчатки легко гнутся там, где должны гнуться, обладают немалым запасом прочности, отлично дышат, но в то же время активно сберегают тепло. Да, кстати, внутри их на...",
          "entry_price_old":{
             "price_raw":0,
             "price":0
          },
          "entry_unit":"шт.",
          "entry_id":"6",
          "entry_solds":"0",
          "entry_modified_time":"1333614812",
          "entry_cats":{
             "cats":[
                {
                   "url":"gadjets/sport",
                   "name":"Спорт",
                   "id":"6"
                }
             ],
             "num_cats":1
          },
          "entry_price_vat":{
             "price_raw":0,
             "price":0
          },
          "entry_price_in":{
             "price_raw":"0.00",
             "price":"0.00$"
          },
          "entry_description":"Перчатки Burton Mix Master – это просто мечта для настоящего любителя сноубординга. Эти перчатки легко гнутся там, где должны гнуться, обладают немалым запасом прочности, отлично дышат, но в то же время активно сберегают тепло. Да, кстати, внутри их находится и легендарная мембрана Dryride, благодаря которой руки практически не потеют.",
          "entry_price_vat_eval":{
             "price_raw":160,
             "price":"160.00$"
          },
          "entry_spec":"",
          "entry_views":"3",
          "entry_title":"Перчатки Burton Mix Master",
          "entry_is_in_basket":0,
          "entry_is_hidden":"0",
          "entry_meta_data":{
             "meta_description":"Перчатки Burton Mix Master Гаджеты Спорт",
             "meta_title":""
          },
          "entry_warr":"",
          "entry_added_time":"1333614765",
          "entry_art_no":"",
          "entry_is_in_wishlist":0,
          "entry_options":{

          },
          "entry_rating":{
             "rating_num_float":0,
             "rating_num":"0",
             "rated":"0",
             "rating":"0.0"
          },
          "entry_cat":{
             "name":"Спорт",
             "url":"gadjets/sport",
             "id":"6",
             "shop_url":"http://yoursite.ucoz.ru/shop/gadjets/sport"
          },
          "entry_add_user":"Tom",
          "entry_add_uid":"1",
          "entry_file_size":0,
          "entry_price":{
             "price_raw":160,
             "price":"160.00$"
          },
          "entry_ordered":"0",
          "entry_brand":"",
          "entry_others":{
             "other3":"",
             "other2":"",
             "other1":""
          },
          "entry_hgu":"perchatki-burton-mix-master",
          "entry_shop_url":"http://yoursite.ucoz.ru/shop/6/desc/perchatki-burton-mix-master",
          "entry_type":"0",
          "entry_photo":{
             "num_photos":1,
             "others_photo":"",
             "def_photo":{
                "small":"http://yoursite.ucoz.ru/_sh/00/6s.jpg",
                "photo":"http://yoursite.ucoz.ru/_sh/00/6.jpg",
                "thumb":"http://yoursite.ucoz.ru/_sh/00/6m.jpg"
             }
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля:
    - `goods_id` – ID товара
    - `art` – артикул товара
    - `selected_cnt` – количество товаров, указанное во входном параметре cnt
    - `stock` – остаток товара
    - `price` – цена товара с учетом наценки и указанного количества
    - `oldprice` – старая цена товара с учетом наценки и указанного количества
    - `img_num` – порядковый номер изображения товара, привязанного к указанной опции (номерация с нуля)
    - `small` – URL к изображению-иконке товара
    - `thumb` – URL к изображению-превю товара
    - `photo` – URL к полному изображению товара
    - `ENTRY_CAT` – секция с данными категории товара (может отличаться от данных категории в секции CATEGORY_DATA, если товар находится в дочерней категории)
    - `sort=FIELD_NAME` – [Строка] – поле по которому будет отсортирован список товаров. Содержит поля:
        - `id` – ID товара
        - `pid` – ID родительской категории
        - `name` – название категории товара
        - `pname` – название родительской категории товара
        - `url` – URI категории относительно корня магазина
        - `purl` – URI родительской категории относительно корня магазина
    - `ENTRY_CATS` – секция с дополнительными категориями товара. Содержит поля:
        - `cats` – подсекция с данными дополнительных категорий товара. id - ID категории. url - URI категории относительно корня магазина. name - название категории.
        - `num_cats` – количество дополнительных категорий товара
    - `ENTRY_PHOTO` – секция с изображениями товара. Содержит поля:
        - `num_photos` – количество изображений
        - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
        - `others_photo` – секциями с данными других изображений товара (набор полей аналогичен секции def_photo)
    - `ENTRY_OPTIONS` – секция с опциями товара. Данная секция содержит список подсекций с данными опций товаров. ID подсекции - ID опции в магазине. Содержит поля:
        - `name` – название опции
        - `values` – секция со значениями товара. label - подпись к значению. val - наценка опции (если наценка задана в виде процента, то val содержит вычисленное значение наценки). percent - размер наценки в процентах (поле присутствует только для наценок, заданных в виде процента).
        - `use_images` – признак «Использовать изображения»
        - `as_checkbox` – признак «Выводить в виде чекбокса»
        - `as_radio` –  признак «Выводить в виде `radio_buttons`»
        - `check_first` – признак «Выделять первое значение в `radio_buttons`»
        - `pos` – позиция опции в списке опций товара
    - `ENTRY_RATING` – секция с данными по рейтингу товара. Содержит поля:
        - `rating` – рейтинг материала
        - `rated` – количество голосов
        - `rating_num` – оценка материала (целое число)
        - `rating_num_float` – оценка материала (дробное число)
    - `META-DATA` – секция с META-данными категории. Содержит поля:
        - `meta_title` – содержимое TITLE-тега
        - `meta_description` – содержимое тега <meta name="description" content="..." />
    - `RECOMMENDED_PRODUCTS` – секция с рекомендуемыми товарами. Данная секция содержит следующие поля:
        - `present` – признак, что к товару привязаны рекомендуемые товары
        - `recomm_product` – список рекомендуемых товаров

#### [GET] Получить опции товара

Получение опций товара. Добавление опций доступно в ПУ сайта, опции для товара конкретного – при редактировании/добавления материала в веб-версии.

> Обязательные параметры: `method=opt-load`, `id=[ID]`

Пример запроса:

    $response = $request->get('/shop/editgoods', array(
        'method' => 'opt-load',
        'id' => '1'
    ));

Пример ответа:

    {
       "success":{
          "options":{
             "1":{
                "name":"Размер",
                "values":{
                   "1":"0.00",
                   "3":"0.00",
                   "0":"0.00",
                   "2":"0.00"
                },
                "use_images":"0",
                "as_checkbox":0,
                "as_radio":"0",
                "pos":1,
                "check_first":"0",
                "selected":0
             }
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'options': OPTIONS_LIST } }

Расшифровка ответа:

- `OPTIONS_LIST` – секция со списком опций товара. Данная секция содержит список подсекций с данными по каждой опции товара. ID подсекции - порядковый номер опции в списке опций. Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `selected` – признак, что опция включена для указанного товара
    - `pos` – позиция опции в списке опций
    - `values` – список значений опции в формате `ПОРЯДКОВЫЙ_НОМЕР:НАЦЕНКА`
    - `use_images` – значение признака «Использовать изображения»
    - `as_checkbox` – значение признака «В виде checkbox»
    - `as_radio` – значение признака «Выводить в виде `radio_buttons`»
    - `check_first` – значение признака «Выделять первое значение в `radio_buttons`»

#### [GET] Наценка по опции товара

Для каждой опции можно сделать наценку: например, при выборе цвета Красный – к цене добавлять 10$. Этот запрос покажет какие наценки применяются к товару.

> Обязательные параметры: `page=viewgoods`, `id=[ID]`, `mode=opt-sel`

Пример запроса:

    $response = $request->get('/shop/request', array(
        'page'=>'viewgoods',
        'id'=>'1',
        'mode'=>'opt-sel'
    ));

Дополнительные параметры запроса:

- `opt=OPTIONS` – [Строка] – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
- `opt_id=OPTION_ID` – [Число] – ID выбранной опции
- `cnt=CNT` – [Число] – количество товаров

Пример ответа:

    {
       "success":{
          "goods_id":"1",
          "art":"",
          "selected_cnt":"1",
          "oldprice":{
             "over":0,
             "price_raw":0,
             "price":"0.00$"
          },
          "price":{
             "over":0,
             "price_raw":0,
             "price":"0.00$"
          },
          "stock":"0"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля:
    - `goods_id` – ID товара
    - `art` – артикул товара
    - `selected_cnt` – количество товаров, указанное во входном параметре cnt
    - `stock` – остаток товара
    - `price` – цена товара с учетом наценки и указанного количества
    - `oldprice` – старая цена товара с учетом наценки и указанного количества
    - `img_num` – порядковый номер изображения товара, привязанного к указанной опции (номерация с нуля)
    - `small` – URL к изображению-иконке товара
    - `thumb` – URL к изображению-превю товара
    - `photo` – URL к полному изображению товара

#### [GET] Отзывы товара

У каждого товара существует своя уникальная опция: отзывы (комментарии). С этим запросом мы можем получить список всех отзывов к товару.

> Обязательные параметры: `id=[GOODS_ID]`

Пример запроса:

    $response = $request->get('/shop/comments', array(
        'id'=>'1'
    ));

Пример ответа:

    {
       "messages":[
          {
             "www":"",
             "answer":"",
             "original_answer":"",
             "avatar":"http://2093175133.uid.me/avatar.jpg",
             "author":"Dmitry_DM",
             "pending":"no",
             "full_name":"Dmitry K.",
             "message":"Оценить текущее состояние тяжело!",
             "rate":0,
             "add_date":"2016-03-20 23:06",
             "email":"",
             "rateuids":"",
             "id":18,
             "original_message":"Оценить текущее состояние тяжело!"
          }
       ],
       "id":1,
       "total_msg":1
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { DATA }

Расшифровка ответа:

- `DATA` - секция с комментариями товара. Содержит следующие поля
    - `id` – ID товара, по которому были запрошены комментарии
    - `page` – количество страниц комментариев
    - `pages_list` – возможные страницы в переключателе комментариев
    - `per_page` – количество комментариев на странице
    - `total_msg` – общее количество комментариев
    - `messages` – MESSAGES_LIST - секция с комментариями товара
- `MESSAGES_LIST` - секция с комментариями товара. Каждая подсекция содержит следующие поля
    - `id` – ID комментария
    - `parent_id` – ID родительского комментария
    - `www` – значение поля "WWW"
    - `answer` – ответ для комментария
    - `avatar` – ссылка на аватар пользователя, оставившего комментарий
    - `author` – никнейм пользователя, оставившего комментарий
    - `pending` – признак ожидания модерации комментарий (`yes`/`no`)
    - `full_name` – полное имя, добавившего комментарий
    - `message` – текст комментария
    - `rate` – текущий рейтинг комментария
    - `add_date` – дата добавления комментария
    - `email` – значение поля "Email"

#### [POST] Добавить товар

Полноценное добавление товара в магазин.

> Обязательные параметры: `method=submit`, `cat_id=CATEGORY_ID`, `name=GOODS_NAME`

Пример запроса:

    $response = $request->post('/shop/addgoods', array(
        'method'=>'submit',
        'cat_id'=>'1',
        'name'=>'GOODS_NAME'
    ));

Дополнительные параметры запроса:

- `cats_add=ADDITIONAL_CATEGORIES` – [Строка] – список ID дополнительных категорий в формате "[ID1, ID2, ID3,...]"
- `ch_addcat=1` – [Число] – указывает на наличие дополнительных категорий. Обязателен, если присутствует параметр cats_add, иначе параметр cats_add не будет учтен
- `brand=GOODS_BRAND` – [Строка] – значение поля «Производитель»
- `brief=GOODS_BRIEF_DESCRIPTION` – [Строка] – краткое описание товара
- `undisc=[0|1]` – [Число] – значение поля «Исключить товар из скидок»
- `dscr=GOODS_DESCRIPTION` – [Строка] – описание товара
- `user=GOODS_USER` – [Строка] – значение поля «Субагент»
- `tags=GOODS_TAGS` – [Строка] – список тегов товара (через запятую)
- `url=GOODS_HGU` – [Строка] – значение поля «ЧПУ»
- `meta_title=GOODS_META_TITLE` – [Строка] – значение поля «HTML Заголовок страницы»
- `meta_dscr=GOODS_META_DESCRIPTION` – [Строка] – значение поля «HTML meta description»
- `type=GOODS_TYPE` – [Число] – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
- `file_mode=MODE` – [Строка] – тип источника файла (`data` - загрузка с сервера из которого отправляются API-запросы, `move` - выбор файла на сервере магазина). **Обязателен при `type=1`**
- `file_data=FILE_PATH` – [Строка] – путь к файлу на сервере из которого отправляются API-запросы. **Обязателен при `file_mode=data`**
- `file_move=FILE_PATH` – [Строка] – путь к файлу на сервере магазина. **Обязателен при `file_mode=move`**
- `data=CODES_LIST` – [Строка] – Список электронных кодов. **Обязателен при `type=2`**
- `price=GOODS_PRICE` – [Число] – цена товара
- `price_in=GOODS_PRICE` – [Число] – входящая цена товара
- `price_old=GOODS_PRICE` – [Число] – старая цена товара
- `unit=GOODS_UNIT` – [Строка] – значение поля «Единица»
- `weight=GOODS_WEIGHT` – [Число] – значение поля «Вес»
- `art=GOODS_ART` – [Строка] – значение поля «Артикул»
- `stock=GOODS_STOCK` – [Строка] – значение поля «Наличие (или дата ожидания товара)»
- `warr=GOODS_WARR` – [Строка] – значение поля «Гарантия»
- `otherN=GOODS_OTHER` - [Строка] - значение поля «Дополнительное поле N», где `N` - порядковый номер дополнительного поля товара. Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
- `opt_N=[0|1]` - [Число] - отключает/включает опцию, где `N` - порядковый номер опции товара (нумерация с 1-цы). Если параметр отсутствует, то настройка опции останется без изменений.
- `opt_N_var_M=[0|1]` - [Число] - используется для опций с множеством значений, где `N` - порядковый номер опции товара (нумерация с 1-цы), `M` - порядковый номер значения опции товара (нумерация с 0-ля) - отключает/включает значение опции. Если параметр не будет указан, то значение опции будет отключено. !!! Если для параметра будет указано значение `1`, но будет отсутствовать набор значений opt_N_over_M, то будет возвращена ошибка.
- `opt_N_over_M=GOODS_OPTION` - [Строка] - используется для опций с множеством значений, где `N` - порядковый номер опции товара (нумерация с 1-цы), `M` - порядковый номер значения опции товара (нумерация с 0-ля) - задает наценку по значению опции товара
- `opt_N_over=GOODS_OPTION` - [Строка] - используется для опций с одним значением, где `N` - порядковый номер опции товара (нумерация с 1-цы) - задает наценку по значению опции товара
- `recommended-products-set-0-recommended-products=GOODS_LIST` – [Строка] – список ID товаров для поля «С этим товаром покупают» (через запятую)
- `hide=[0|1]` – [Число] – значение поля «Скрыть»

Пример ответа:

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля:
    - `goods_id` – ID товара
    - `art` – артикул товара
    - `selected_cnt` – количество товаров, указанное во входном параметре cnt
    - `stock` – остаток товара
    - `price` – цена товара с учетом наценки и указанного количества
    - `oldprice` – старая цена товара с учетом наценки и указанного количества
    - `img_num` – порядковый номер изображения товара, привязанного к указанной опции (номерация с нуля)
    - `small` – URL к изображению-иконке товара
    - `thumb` – URL к изображению-превю товара
    - `photo` – URL к полному изображению товара

#### [POST] Редактор товара

Полноценное редактирование товара в магазине.

> Обязательные параметры: `method=submit`, `cat_id=CATEGORY_ID`, `id=GOODS_ID`, `name=GOODS_NAME`

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'cat_id'=>'2',
        'id'=>'1',
        'name'=>'GOODS_NAME',
        'method'=>'submit'
    ));

Дополнительные параметры запроса:

- `cats_add=ADDITIONAL_CATEGORIES` – [Строка] – список ID дополнительных категорий в формате "[ID1, ID2, ID3,...]"
- `ch_addcat=1` – [Число] – указывает на наличие дополнительных категорий. **Обязателен, если присутствует параметр `cats_add`, иначе параметр `cats_add` не будет учтен**
- `brand=GOODS_BRAND` – [Строка] – значение поля «Производитель»
- `brief=GOODS_BRIEF_DESCRIPTION` – [Строка] – краткое описание товара
- `undisc=[0|1]` – [Число] – значение поля «Исключить товар из скидок»
- `dscr=GOODS_DESCRIPTION` – [Строка] – описание товара
- `user=GOODS_USER` – [Строка] – значение поля «Субагент»
- `tags=GOODS_TAGS` – [Строка] – список тегов товара (через запятую)
- `url=GOODS_HGU` – [Строка] – значение поля «ЧПУ»
- `meta_title=GOODS_META_TITLE` – [Строка] – значение поля «HTML Заголовок страницы»
- `meta_dscr=GOODS_META_DESCRIPTION` – [Строка] – значение поля «HTML meta description»
- `type=GOODS_TYPE` – [Число] – тип товара (0 - материальный товар, 1 - товар-файл, 2 - товар-электронный код, 3 - товар-услуга)
- `file_mode=MODE` – [Строка] – тип источника файла (`data` - загрузка с сервера из которого отправляются API-запросы, `move` - выбор файла на сервере магазина). **Обязателен при `type=1`**
- `file_data=FILE_PATH` – [Строка] – путь к файлу на сервере из которого отправляются API-запросы. **Обязателен при `file_mode=data`**
- `data=CODES_LIST` – [Строка] – Список электронных кодов. **Обязателен при `type=2`**
- `price=GOODS_PRICE` – [Число] – цена товара
- `price_in=GOODS_PRICE` – [Число] – входящая цена товара
- `price_old=GOODS_PRICE` – [Число] – старая цена товара
- `unit=GOODS_UNIT` – [Строка] – значение поля «Единица»
- `weight=GOODS_WEIGHT` – [Число] – значение поля «Вес»
- `art=GOODS_ART` – [Строка] – значение поля «Артикул»
- `stock=GOODS_STOCK` – [Строка] – значение поля «Наличие (или дата ожидания товара)»
- `warr=GOODS_WARR` – [Строка] – значение поля «Гарантия»
- `otherN=GOODS_OTHER` - [Строка] - значение поля «Дополнительное поле N», где `N` - порядковый номер дополнительного поля товара. Количество дополнительных полей зависит от настроек магазина, но не может быть больше девяти
- `opt_N=[0|1]` - [Число] - отключает/включает опцию, где `N` - порядковый номер опции товара (нумерация с 1-цы). Если параметр отсутствует, то настройка опции останется без изменений.
- `opt_N_var_M=[0|1]` - [Число] - используется для опций с множеством значений, где `N` - порядковый номер опции товара (нумерация с 1-цы), `M` - порядковый номер значения опции товара (нумерация с 0-ля) - отключает/включает значение опции. Если параметр не будет указан, то значение опции будет отключено. !!! Если для параметра будет указано значение `1`, но будет отсутствовать набор значений opt_N_over_M, то будет возвращена ошибка.
- `opt_N_over_M=GOODS_OPTION` - [Строка] - используется для опций с множеством значений, где `N` - порядковый номер опции товара (нумерация с 1-цы), `M` - порядковый номер значения опции товара (нумерация с 0-ля) - задает наценку по значению опции товара
- `opt_N_over=GOODS_OPTION` - [Строка] - используется для опций с одним значением, где `N` - порядковый номер опции товара (нумерация с 1-цы) - задает наценку по значению опции товара
- `recommended-products-set-0-recommended-products=GOODS_LIST` – [Строка] – список ID товаров для поля «С этим товаром покупают» (через запятую)
- `hide=[0|1]` – [Число] – значение поля «Скрыть»

Пример ответа:

    {
       "success":{
          "msg":"Материал успешно изменен",
          "goods_data":{
             "entry_cat":{
                "name":"Гаджеты",
                "url":"gadjets",
                "id":"2",
                "shop_url":"http://yoursite.ucoz.ru/shop/gadjets"
             },
             "entry_hgu":"goods_name",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/goods_name",
             "entry_cats":{
                "cats":[
                   {
                      "url":"gadjets",
                      "name":"Гаджеты",
                      "id":"2"
                   }
                ],
                "num_cats":1
             },
             "entry_id":"1"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля:
    - `goods_id` – ID товара
    - `art` – артикул товара
    - `selected_cnt` – количество товаров, указанное во входном параметре cnt
    - `stock` – остаток товара
    - `price` – цена товара с учетом наценки и указанного количества
    - `oldprice` – старая цена товара с учетом наценки и указанного количества
    - `img_num` – порядковый номер изображения товара, привязанного к указанной опции (номерация с нуля)
    - `small` – URL к изображению-иконке товара
    - `thumb` – URL к изображению-превю товара
    - `photo` – URL к полному изображению товара

#### [GET] Статистика товара

Вся статистика товара – Получение рейтинга, количества просмотров, продаж, оформлений в заказ и остатка по товару.

> Обязательные параметры: `method=cnt-form`, `id=[ID]`

Пример запроса:

    $response = $request->get('/shop/editgoods', array(
        'id'=>'1',
        'method'=>'cnt-form'
    ));

Пример ответа:

    {
       "success":{
          "goods_data":{
             "entry_ordered":"789",
             "entry_stock":{
                "stock_total":"0",
                "stock":""
             },
             "entry_rating":{
                "rating_num":"10",
                "rating_sum":"98",
                "rating":"9.8"
             },
             "entry_hgu":"goods_name",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/goods_name",
             "entry_views":"123",
             "entry_id":"1",
             "entry_solds":"456"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'goods_data': GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля
    - `entry_id` – ID товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `entry_stock` – остаток товара
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `rating` – рейтинг материала
    - `rating_num` – количество голосов
    - `rating_sum` – суммарное количество баллов

#### [POST] Изменить статистику товара

Изменение рейтинга, количества просмотров, количества продаж, количества оформлений в заказ и остатка по товару.

> Обязательные параметры: `method=cnt-save`

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method'=>'cnt-save',
        'id'=>'GOODS_ID',
        'views'=>'VIEWS_CNT',
        'solds'=>'SOLDS_CNT',
        'ordered'=>'ORDERD_CNT',
        'rate_num'=>'NUM',
        'rate_sum'=>'SUM',
        'stock_q'=>'STOCK'
    ));

Дополнительные параметры запроса:

- `id=GOODS_ID` – [Число] – ID товара, по которому нужно получить данные
- `views=VIEWS_CNT` – [Число] – количество просмотров товара
- `solds=SOLDS_CNT` – [Число] – количество продаж товара
- `ordered=ORDERD_CNT` – [Число] – количество оформлений в заказах
- `rate_num=NUM` – [Число] – количество голосов рейтинга
- `rate_sum=SUM` – [Число] – суммарное количество баллов
- `stock_q=STOCK` – [Число] – остаток товара. **Учитывается только если включен учёт остатков товара в настройках магазина и для товара не заданы опции.**

Пример ответа:

    {
       "success":{
          "msg":"Материал успешно изменен",
          "goods_data":{
             "entry_ordered":"4",
             "entry_stock":{
                "stock_total":"7",
                "stock":""
             },
             "entry_rating":{
                "rate_sum":"6",
                "rate_num":"5",
                "rating":"1.20"
             },
             "entry_hgu":"goods_name",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/goods_name",
             "entry_views":"2",
             "entry_id":"1",
             "entry_solds":"3"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Материал успешно изменен" GOODS_DATA } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля
    - `entry_id` – ID товара
    - `entry_views` – количество просмотров товара
    - `entry_solds` – количество продаж товара
    - `entry_ordered` – количество заказов, оформленных с данным товаром
    - `entry_stock` – остаток товара
    - `entry_rating` – ENTRY_RATING - секция с данными по рейтингу товара
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `ENTRY_RATING` – секция с данными по рейтингу товара. Данная секция содержит следующие поля:
    - `rating` – рейтинг материала
    - `rating_num` – количество голосов
    - `rating_sum` – суммарное количество баллов

#### [POST] Активировать/Скрыть товар

Товар можно скрыть и он будет доступен только администраторам

> Обязательные параметры: `method=hide`, `id=[ID]`

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method'=>'hide',
        'id'=>'GOODS_ID',
        'hide'=>'1'
    ));

Дополнительные параметры запроса:

- `hide=[0|1]` – [Число] – значение признака скрытости товара. Если параметр не указан, то признак инвертируется

Пример ответа:

    {
       "success":{
          "msg":"Материал успешно изменен",
          "goods_data":{
             "entry_hgu":"goods_name",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/1/desc/goods_name",
             "entry_hide":"1",
             "entry_id":"1"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { "msg": "Материал успешно изменен" GOODS_DATA } }

#### [POST] Удалить товар

Безвозвратное удаление товара

> Обязательные параметры: `method=delete`, `id=[ID]`

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method'=>'delete',
        'id'=>'GOODS_ID'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Материал успешно удален"
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Материал успешно удален" } }

#### [POST] Добавить изображение товару

С помощью запроса можно добавить новое изображение

> Обязательные параметры: `method=img-add`, `id=GOODS_ID`, `file_add_N=FILE_PATH`, `file_add_cnt=NUM`

- `file_add_N=FILE_PATH` – [Строка] – путь к файлу на сервере из которого отсылается API-запрос, где `N` порядковый номер изображения. Максимально-допустимое количество изображений к товару - 20 шт
- `file_add_cnt=NUM` – [Число] – количество загружаемых изображений. Должно соответствовать количеству полей file_add_N

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method' =>'img-add',
        'id' => '49',
        'file_add_1' => '@full_XhTGxNnh.jpg',
        'file_add_cnt' => '1'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Изображения добавлены",
          "goods_data":{
             "entry_photo":{
                "num_photos":1,
                "others_photo":"",
                "def_photo":{
                   "small":"http://yoursite.ucoz.ru/_sh/00/49s.jpg",
                   "photo":"http://yoursite.ucoz.ru/_sh/00/49.jpg",
                   "thumb":"http://yoursite.ucoz.ru/_sh/00/49m.jpg"
                }
             },
             "entry_hgu":"fsdfsdf",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/49/desc/fsdfsdf",
             "entry_id":"49"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Изображения добавлены" "goods_data":{ GOODS_DATA } } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля
    - `entry_id` – ID товара, по которому нужно получить данные
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_photo` – секция со списком изображений товара
- `ENTRY_PHOTO` - секция со списком изображений товара. Данная секция содержит следующие поля:
    - `num_photos` – количество изображений товара
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – cекциями с данными других изображений товара (набор полей аналогичен секции def_photo)

#### [POST] Изменить изображение товару

С помощью запроса можно отредактировать существующее изображение (заменить).

> Обязательные параметры: `method=img-edt`, `id=GOODS_ID`, `img=NUM`, `file_N=FILE_PATH`

- `img=NUM` – [Число] – номер изображения в списке изображений товара, которое нужно заменить (номерация файлов начинается с 0-ля)
- `file_N=FILE_PATH` – [Строка] – путь к файлу на сервере из которого отсылается API-запрос, где `N` - номер изображения, указанный в параметра `img`

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method' =>'img-edt',
        'id' => '49',
        'file_1' => '@full_XhTGxNnh.jpg',
        'img' => '1'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Изображение изменено",
          "goods_data":{
             "entry_photo":{
                "num_photos":1,
                "others_photo":"",
                "def_photo":{
                   "small":"http://yoursite.ucoz.ru/_sh/00/49s.jpg",
                   "photo":"http://yoursite.ucoz.ru/_sh/00/49.jpg",
                   "thumb":"http://yoursite.ucoz.ru/_sh/00/49m.jpg"
                }
             },
             "entry_hgu":"fsdfsdf",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/49/desc/fsdfsdf",
             "entry_id":"49"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Изображение изменено" "goods_data":{ GOODS_DATA } } }

Расшифровка ответа:

- `GOODS_DATA` - секция с данными товара. Содержит следующие поля
    - `entry_id` – ID товара, по которому нужно получить данные
    - `entry_hgu` – ЧПУ товара
    - `entry_shop_url` – URL товара в магазине
    - `entry_photo` – секция со списком изображений товара
- `ENTRY_PHOTO` - секция со списком изображений товара. Данная секция содержит следующие поля:
    - `num_photos` – количество изображений товара
    - `def_photo` – секция с данными изображения «по умолчанию». small - URL к изображению-иконке товара. thumb - URL к изображению-превю товара. photo - URL к полному изображению товара
    - `others_photo` – cекциями с данными других изображений товара (набор полей аналогичен секции def_photo)

#### [POST] Удалить изображение товара

С помощью запроса можно добавить новое изображение.

> Обязательные параметры: `method=img-del`, `id=GOODS_ID`, `img=NUM`

- `file_add_N=FILE_PATH` – [Строка] – путь к файлу на сервере из которого отсылается API-запрос, где N порядковый номер изображения. **Максимально-допустимое количество изображений к товару - 20 шт**
- `img=NUM` – [Число] – номер изображения в списке изображений товара, которое нужно удалить (нумерация файлов начинается с 0-ля)
- `del_all=1` – флаг, указывающий, что нужно удалить все изображения

Пример запроса:

    $response = $request->post('/shop/editgoods', array(
        'method' =>'img-del',
        'id' => '49',
        'img' => '1'
    ));

Пример ответа:

    {
       "success":{
          "msg":"Изображения удалены",
          "goods_data":{
             "entry_photo":{
                "num_photos":0,
                "others_photo":"",
                "def_photo":""
             },
             "entry_hgu":"fsdfsdf",
             "entry_shop_url":"http://yoursite.ucoz.ru/shop/49/desc/fsdfsdf",
             "entry_id":"49"
          }
       }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { "success":{ "msg":"Изображения удалены" "goods_data":{ GOODS_DATA } } }

#### [GET] Cклад по опциям: Получение существующих наборов

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: `method=stock-get`, `id=GOODS_ID`

Пример запроса:

    $response = $request->get('/shop/editgoods/', array(
        'method' => 'stock-get',
        'id' => 1010,
    ));

Дополнительные параметры запроса:

- `page=PAGE_NUM` – [Число] - страница выборки (по умолчанию 1)

Пример ответа:

    {
       "success":{
            "stock_data": {
                "1263": {
                    "goods_art": "art_api",
                    "goods_cnt": "10",
                    "opt_sel": {
                        "selected_str": "1:2-2",
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "2"
                            },
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "0"
                            }
                        }
                    },
                    "opt_crc": "287c2a78ce814b89fa74457993c10f7b"
                },
                "1259": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_str": "1-2:2",
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "0"
                            },
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "2"
                            }
                        }
                    },
                    "opt_crc": "aa2d41895889f4aa54fbec159872f5fd",
                    "goods_art": ""
                },
                "1255": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "3"
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "1"
                            }
                        },
                        "selected_str": "1-3:2-1"
                    },
                    "opt_crc": "5a400632d3e61e9814e232683f099d9a",
                    "goods_art": ""
                },
                "1257": {
                    "goods_art": "",
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "2"
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "2"
                            }
                        },
                        "selected_str": "1-2:2-2"
                    },
                    "opt_crc": "8171a91be20bee8d2b4129d2b3e20911",
                    "goods_cnt": "0"
                },
                "1264": {
                    "goods_art": "",
                    "opt_sel": {
                        "selected_str": "1:2-1",
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "1"
                            },
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "0"
                            }
                        }
                    },
                    "opt_crc": "32fb5a773ac698dae5471a4d826f2dfa",
                    "goods_cnt": "0"
                },
                "1254": {
                    "goods_art": "",
                    "opt_crc": "8e4ccb72a685226dc983250f95568caf",
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "indx": "3",
                                "over": 0,
                                "name": "Размер"
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "2"
                            }
                        },
                        "selected_str": "1-3:2-2"
                    },
                    "goods_cnt": "0"
                },
                "1265": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_str": "1:2",
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "indx": "0",
                                "over": 0
                            },
                            "2": {
                                "over": 0,
                                "indx": "0",
                                "name": "для апи"
                            }
                        }
                    },
                    "opt_crc": "9b117818136ea4c2e5857e9128076a27",
                    "goods_art": ""
                },
                "1261": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_str": "1-1:2-1",
                        "selected_data": {
                            "1": {
                                "indx": "1",
                                "over": 122,
                                "name": "Размер"
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "1"
                            }
                        }
                    },
                    "opt_crc": "95a0817f8d2ab6bd8c305a23142b4c73",
                    "goods_art": ""
                },
                "1260": {
                    "opt_crc": "5730a0173301b09fcd0cfbe4143ce87f",
                    "opt_sel": {
                        "selected_str": "1-1:2-2",
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "indx": "1",
                                "over": 122
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "2"
                            }
                        }
                    },
                    "goods_cnt": "0",
                    "goods_art": ""
                },
                "1258": {
                    "goods_art": "",
                    "opt_crc": "9eef8dc347d880191ffee7c7ff732eb9",
                    "opt_sel": {
                        "selected_str": "1-2:2-1",
                        "selected_data": {
                            "2": {
                                "indx": "1",
                                "over": 0,
                                "name": "для апи"
                            },
                            "1": {
                                "name": "Размер",
                                "indx": "2",
                                "over": 0
                            }
                        }
                    },
                    "goods_cnt": "0"
                },
                "1256": {
                    "goods_art": "",
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "indx": "3",
                                "over": 0
                            },
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "0"
                            }
                        },
                        "selected_str": "1-3:2"
                    },
                    "opt_crc": "3060686fec138041e04108229915bfd4",
                    "goods_cnt": "0"
                },
                "1262": {
                    "opt_crc": "7a6b60304edc2b8d09ef1d1ecd142627",
                    "opt_sel": {
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "0"
                            },
                            "1": {
                                "name": "Размер",
                                "over": 122,
                                "indx": "1"
                            }
                        },
                        "selected_str": "1-1:2"
                    },
                    "goods_cnt": "0",
                    "goods_art": ""
                }
            },
            "msg": "OK",
            "paginator": {
                "items_count": "12",
                "pages_count": 1,
                "current_page": 1,
                "items_per_page": "20"
            }
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'OK', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
    - `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. **!!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара».** Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.

#### [POST] Cклад по опциям: Сгенерировать все наборы

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: `method=stock-get`, `action=genall`, `id=GOODS_ID`

- `method=stock-save` – [Строка] - режим работы с наборами - изменение
- `action=genall` – [Строка] - действие, которое нужно выполнить - «Сгенерировать все наборы»
- `id=GOODS_ID` – [Число] - ID товара, по которому нужно сгенерировать наборы опций склада

Пример запроса:

    $response = $request->get('/shop/editgoods/', array(
    	'method' => 'stock-save',
    	'action' => 'genall',
    	'id' => 1010,
    ));

Пример ответа:

{
   "success":{
        "stock_data": {
            "1280": {
                "goods_art": "",
                "opt_crc": "9eef8dc347d880191ffee7c7ff732eb9",
                "opt_sel": {
                    "selected_str": "1-2:2-1",
                    "selected_data": {
                        "2": {
                            "over": 0,
                            "indx": "1",
                            "name": "для апи"
                        },
                        "1": {
                            "name": "Размер",
                            "indx": "2",
                            "over": 0
                        }
                    }
                },
                "goods_cnt": "0"
            },
            "1282": {
                "goods_art": "",
                "goods_cnt": "0",
                "opt_crc": "5730a0173301b09fcd0cfbe4143ce87f",
                "opt_sel": {
                    "selected_str": "1-1:2-2",
                    "selected_data": {
                        "1": {
                            "name": "Размер",
                            "over": 122,
                            "indx": "1"
                        },
                        "2": {
                            "name": "для апи",
                            "indx": "2",
                            "over": 0
                        }
                    }
                }
            },
            "1281": {
                "goods_cnt": "0",
                "opt_sel": {
                    "selected_data": {
                        "1": {
                            "name": "Размер",
                            "indx": "2",
                            "over": 0
                        },
                        "2": {
                            "over": 0,
                            "indx": "0",
                            "name": "для апи"
                        }
                    },
                    "selected_str": "1-2:2"
                },
                "opt_crc": "aa2d41895889f4aa54fbec159872f5fd",
                "goods_art": ""
            },
            "1277": {
                "goods_art": "",
                "goods_cnt": "0",
                "opt_crc": "5a400632d3e61e9814e232683f099d9a",
                "opt_sel": {
                    "selected_str": "1-3:2-1",
                    "selected_data": {
                        "2": {
                            "name": "для апи",
                            "over": 0,
                            "indx": "1"
                        },
                        "1": {
                            "name": "Размер",
                            "indx": "3",
                            "over": 0
                        }
                    }
                }
            },
            "1285": {
                "goods_cnt": "0",
                "opt_crc": "287c2a78ce814b89fa74457993c10f7b",
                "opt_sel": {
                    "selected_str": "1:2-2",
                    "selected_data": {
                        "2": {
                            "indx": "2",
                            "over": 0,
                            "name": "для апи"
                        },
                        "1": {
                            "indx": "0",
                            "over": 0,
                            "name": "Размер"
                        }
                    }
                },
                "goods_art": ""
            },
            "1287": {
                "goods_cnt": "0",
                "opt_crc": "9b117818136ea4c2e5857e9128076a27",
                "opt_sel": {
                    "selected_data": {
                        "2": {
                            "name": "для апи",
                            "over": 0,
                            "indx": "0"
                        },
                        "1": {
                            "over": 0,
                            "indx": "0",
                            "name": "Размер"
                        }
                    },
                    "selected_str": "1:2"
                },
                "goods_art": ""
            },
            "1276": {
                "goods_art": "",
                "goods_cnt": "0",
                "opt_sel": {
                    "selected_str": "1-3:2-2",
                    "selected_data": {
                        "2": {
                            "name": "для апи",
                            "indx": "2",
                            "over": 0
                        },
                        "1": {
                            "indx": "3",
                            "over": 0,
                            "name": "Размер"
                        }
                    }
                },
                "opt_crc": "8e4ccb72a685226dc983250f95568caf"
            },
            "1284": {
                "opt_crc": "7a6b60304edc2b8d09ef1d1ecd142627",
                "opt_sel": {
                    "selected_data": {
                        "1": {
                            "indx": "1",
                            "over": 122,
                            "name": "Размер"
                        },
                        "2": {
                            "name": "для апи",
                            "indx": "0",
                            "over": 0
                        }
                    },
                    "selected_str": "1-1:2"
                },
                "goods_cnt": "0",
                "goods_art": ""
            },
            "1279": {
                "goods_art": "",
                "goods_cnt": "0",
                "opt_crc": "8171a91be20bee8d2b4129d2b3e20911",
                "opt_sel": {
                    "selected_data": {
                        "2": {
                            "name": "для апи",
                            "over": 0,
                            "indx": "2"
                        },
                        "1": {
                            "name": "Размер",
                            "indx": "2",
                            "over": 0
                        }
                    },
                    "selected_str": "1-2:2-2"
                }
            },
            "1286": {
                "opt_crc": "32fb5a773ac698dae5471a4d826f2dfa",
                "opt_sel": {
                    "selected_str": "1:2-1",
                    "selected_data": {
                        "2": {
                            "name": "для апи",
                            "over": 0,
                            "indx": "1"
                        },
                        "1": {
                            "name": "Размер",
                            "indx": "0",
                            "over": 0
                        }
                    }
                },
                "goods_cnt": "0",
                "goods_art": ""
            },
            "1283": {
                "goods_art": "",
                "goods_cnt": "0",
                "opt_crc": "95a0817f8d2ab6bd8c305a23142b4c73",
                "opt_sel": {
                    "selected_str": "1-1:2-1",
                    "selected_data": {
                        "1": {
                            "over": 122,
                            "indx": "1",
                            "name": "Размер"
                        },
                        "2": {
                            "name": "для апи",
                            "over": 0,
                            "indx": "1"
                        }
                    }
                }
            },
            "1278": {
                "opt_sel": {
                    "selected_str": "1-3:2",
                    "selected_data": {
                        "2": {
                            "indx": "0",
                            "over": 0,
                            "name": "для апи"
                        },
                        "1": {
                            "name": "Размер",
                            "indx": "3",
                            "over": 0
                        }
                    }
                },
                "opt_crc": "3060686fec138041e04108229915bfd4",
                "goods_cnt": "0",
                "goods_art": ""
            }
        },
        "paginator": {
            "items_per_page": "20",
            "current_page": 1,
            "pages_count": 1,
            "items_count": "12"
        },
        "msg": "Наборы опций успешно сгенерированы"
    }
}

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'OK', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
- `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. **!!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара».** Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.

#### [POST] Cклад по опциям: Добавить набор

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: `method=stock-get`, `action=add`, `id=GOODS_ID`, `opt_sel=OPT_SEL_STRING`

- `method=stock-save` – [Строка] - режим работы с наборами - изменение
- `action=add` – [Строка] - действие, которое нужно выполнить - "Добавить набор"
- `id=GOODS_ID` – [Число] - ID товара, по которому нужно сгенерировать наборы опций склада
- `opt_sel=OPT_SEL_STRING` – [Строка] - строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения

Пример запроса:

    $response = $request->post('/shop/editgoods/', array(
    	'method' => 'stock-save',
    	'action' => 'add',
    	'id' => 1010,
    	'opt_sel' => '1-3:2-1',
    ));

Пример ответа:

    {
       "success":{
            "stock_data": {
                "1288": {
                    "opt_sel": {
                        "selected_data": {
                            "2": {
                                "over": 0,
                                "indx": "1",
                                "name": "для апи"
                            },
                            "1": {
                                "over": 0,
                                "indx": "3",
                                "name": "Размер"
                            }
                        },
                        "selected_str": "1-3:2-1"
                    },
                    "opt_crc": "5a400632d3e61e9814e232683f099d9a",
                    "goods_cnt": "0",
                    "goods_art": ""
                }
            },
            "msg": "Набор опций успешно сгенерирован",
            "paginator": {
                "pages_count": 1,
                "items_per_page": "20",
                "current_page": 1,
                "items_count": "1"
            }
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'OK', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
- `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. !!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара» Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.

#### [POST] Cклад по опциям: Сохранить настройки по выбранным наборам

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: `method=stock-get`, `action=save`, `id=GOODS_ID`, `crc_NN=CRC_STRING`, `stock_NN=NUM`, `art_NN=GOODS_ART`

- `method=stock-save` – [Строка] - режим работы с наборами - изменение
- `action=add` – [Строка] - действие, которое нужно выполнить - "Добавить набор"
- `id=GOODS_ID` – [Число] - ID товара, по которому нужно сгенерировать наборы опций склада
- `crc_NN=CRC_STRING` – [Строка] - хеш сохраняемого набора (получается при GET-запросе) !!! также должны присутствовать stock_NN и art_NN, иначе настройки не будут применены. NN - ID набора опций.
- `stock_NN=NUM` – [Число] - устанавливаемый остаток по данному набору !!! также должны присутствовать crc_NN и art_NN, иначе настройки не будут применены. NN - ID набора опций.
- `art_NN=GOODS_ART` – [Строка] - устанавливаемый артикул по данному набору !!! также должны присутствовать crc_NN и stock_NN, иначе настройки не будут применены. NN - ID набора опций.

Пример запроса:

    $response = $request->post('/shop/editgoods/', array(
    	'method' => 'stock-save',
    	'action' => 'save',
    	'id' => 1010,
    	'crc_1288' => '5a400632d3e61e9814e232683f099d9a',
    	'stock_1288' => 500,
    	'art_1288' => 'art12',
    ));

Пример ответа:

    {
       "success":{
            "paginator": {
                "pages_count": 1,
                "items_per_page": "20",
                "current_page": 1,
                "items_count": "1"
            },
            "msg": "Настройки успешно сохранены",
            "stock_data": {
                "1288": {
                    "goods_cnt": "500",
                    "opt_sel": {
                        "selected_str": "1-3:2-1",
                        "selected_data": {
                            "1": {
                                "indx": "3",
                                "over": 0,
                                "name": "Размер"
                            },
                            "2": {
                                "over": 0,
                                "indx": "1",
                                "name": "для апи"
                            }
                        }
                    },
                    "opt_crc": "5a400632d3e61e9814e232683f099d9a",
                    "goods_art": "art12"
                }
            }
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'Настройки успешно сохранены', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
- `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. !!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара» Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.

#### [POST] Cклад по опциям: Удалить выбранные наборы

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: method=stock-get, action=removeselected, id=GOODS_ID, ids=SET_IDS

- `method=stock-save` – [Строка] - режим работы с наборами - изменение
- `action=removeselected` – [Строка] - действие, которое нужно выполнить - "Добавить набор"
- `id=GOODS_ID` – [Число] - ID товара, по которому нужно сгенерировать наборы опций склада
- `ids=SET_IDS` – [Строка] - список через запятую ID наборов, которые нужно удалить

Пример запроса:

    $response = $request->post('/shop/editgoods/', array(
    	'method' => 'stock-save',
    	'ids' => '1280, 1281, 1282',
    	'action' => 'removeselected',
    	'id' => 1010,
    ));

Пример ответа:

    {
       "success":{
            "stock_data": {
                "1285": {
                    "goods_art": "",
                    "opt_crc": "287c2a78ce814b89fa74457993c10f7b",
                    "opt_sel": {
                        "selected_str": "1:2-2",
                        "selected_data": {
                            "1": {
                                "over": 0,
                                "indx": "0",
                                "name": "Размер"
                            },
                            "2": {
                                "over": 0,
                                "indx": "2",
                                "name": "для апи"
                            }
                        }
                    },
                    "goods_cnt": "0"
                },
                "1277": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_str": "1-3:2-1",
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "over": 0,
                                "indx": "1"
                            },
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "3"
                            }
                        }
                    },
                    "opt_crc": "5a400632d3e61e9814e232683f099d9a",
                    "goods_art": ""
                },
                "1278": {
                    "goods_art": "",
                    "opt_crc": "3060686fec138041e04108229915bfd4",
                    "opt_sel": {
                        "selected_str": "1-3:2",
                        "selected_data": {
                            "2": {
                                "over": 0,
                                "indx": "0",
                                "name": "для апи"
                            },
                            "1": {
                                "indx": "3",
                                "over": 0,
                                "name": "Размер"
                            }
                        }
                    },
                    "goods_cnt": "0"
                },
                "1283": {
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "over": 122,
                                "indx": "1",
                                "name": "Размер"
                            },
                            "2": {
                                "name": "для апи",
                                "indx": "1",
                                "over": 0
                            }
                        },
                        "selected_str": "1-1:2-1"
                    },
                    "opt_crc": "95a0817f8d2ab6bd8c305a23142b4c73",
                    "goods_cnt": "0",
                    "goods_art": ""
                },
                "1286": {
                    "goods_art": "",
                    "opt_sel": {
                        "selected_str": "1:2-1",
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "0"
                            },
                            "2": {
                                "name": "для апи",
                                "indx": "1",
                                "over": 0
                            }
                        }
                    },
                    "opt_crc": "32fb5a773ac698dae5471a4d826f2dfa",
                    "goods_cnt": "0"
                },
                "1279": {
                    "opt_sel": {
                        "selected_str": "1-2:2-2",
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "2"
                            },
                            "2": {
                                "indx": "2",
                                "over": 0,
                                "name": "для апи"
                            }
                        }
                    },
                    "opt_crc": "8171a91be20bee8d2b4129d2b3e20911",
                    "goods_cnt": "0",
                    "goods_art": ""
                },
                "1284": {
                    "opt_crc": "7a6b60304edc2b8d09ef1d1ecd142627",
                    "opt_sel": {
                        "selected_data": {
                            "2": {
                                "name": "для апи",
                                "indx": "0",
                                "over": 0
                            },
                            "1": {
                                "indx": "1",
                                "over": 122,
                                "name": "Размер"
                            }
                        },
                        "selected_str": "1-1:2"
                    },
                    "goods_cnt": "0",
                    "goods_art": ""
                },
                "1287": {
                    "goods_cnt": "0",
                    "opt_sel": {
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "over": 0,
                                "indx": "0"
                            },
                            "2": {
                                "indx": "0",
                                "over": 0,
                                "name": "для апи"
                            }
                        },
                        "selected_str": "1:2"
                    },
                    "opt_crc": "9b117818136ea4c2e5857e9128076a27",
                    "goods_art": ""
                },
                "1276": {
                    "goods_art": "",
                    "goods_cnt": "0",
                    "opt_crc": "8e4ccb72a685226dc983250f95568caf",
                    "opt_sel": {
                        "selected_str": "1-3:2-2",
                        "selected_data": {
                            "1": {
                                "name": "Размер",
                                "indx": "3",
                                "over": 0
                            },
                            "2": {
                                "name": "для апи",
                                "indx": "2",
                                "over": 0
                            }
                        }
                    }
                }
            },
            "paginator": {
                "items_count": "9",
                "current_page": 1,
                "items_per_page": "20",
                "pages_count": 1
            },
            "msg": "Настройки успешно удалены"
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'Настройки успешно удалены', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
- `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. !!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара» Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.

#### [POST] Cклад по опциям: Удалить все наборы

Для выполнения данной операции пользователь от имени которого выполняется запрос должен иметь право «Добавлять, редактировать все товары» или «Добавлять и редактировать свои товары».

> Обязательные параметры: `method=stock-get`, `action=removeall`, `id=GOODS_ID`

- `method=stock-save` – [Строка] - режим работы с наборами - изменение
- `action=removeall` – [Строка] - действие, которое нужно выполнить - "Удалить все наборы"
- `id=GOODS_ID` – [Число] - ID товара, по которому нужно сгенерировать наборы опций склада

Пример запроса:

    $response = $request->post('/shop/editgoods/', array(
    	'method' => 'stock-save',
    	'action' => 'removeall',
    	'id' => 1010,
    ));

Пример ответа:

    {
       "success":{
            "msg": "Настройки успешно удалены"
        }
    }

В случае ошибки:

    { 'error' => { ERROR_DATA } }

В случае успешного ответа:

    { 'success': { 'msg': 'Настройки успешно удалены', 'stock_data': { STOCK_DATA }, 'paginator': { PAGINATOR_DATA } } }

Расшифровка ответа:

- `STOCK_DATA` - секция с данными склада. Данная секция содержит список подсенкций с данными по каждому выбранному набору опций склада. ID подсекции - ID набора опций в магазине. Каждая подсекция содержит следующие поля:
    - `opt_crc` – хэш набора опций (нужен для операции изменения наборов опций описанной ниже)
    - `goods_cnt` – остаток товара для данного набора опций
    - `goods_art` – артикул товара для данного набора опций
    - `opt_sel` – OPT_SEL - секция с данными опций входящих в данный набор опций
- `OPT_SEL` – секция с данными опций входящих в данный набор опций. Данная секция содержит следующие поля:
    - `selected_str` – строка с выбранными опциями в формате `<OPTION_ID>-<ID_SELECTED_VALUE>-<ID_SELECTED_VALUE>:<OPTION_ID>-<ID_SELECTED_VALUE>:...`, где `OPTION_ID` - ID опции, `ID_SELECTED_VALUE` - ID выбранного значения
    - `selected_data` – SELECTED_DATA - секция с данными опций входящих в набор
- `SELECTED_DATA` – секция с данными опций входящих в набор. Данная секция содержит список подсенкций с данными по каждой опции входящей в набор. ID подсекции - порядковый номер опции в списке опций магазина. !!! Полный список опций товара можно получить с помощью запроса «Подгрузка опций товара» Каждая подсекция содержит следующие поля:
    - `name` – название опции
    - `indx` – порядковый номер выбранного значения опции в списке значений данной опции
    - `over` – наценка по выбранному значению опции устанвленному в карточке товара
- `PAGINATOR_DATA` – секция с данными по пагинатору выборки.
    - `current_page` – номер текущей страницы выборки, заданный параметром page
    - `pages_count` – количество страниц выборки
    - `items_count` – общее количество элементов выборки.
    - `items_per_page` – количество элементов выборки на одну страницу.
